{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/order/orderInfo/deliverList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/order/orderInfo/deliverList.vue","mtime":1678063974000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/babel.config.js","mtime":1637306514000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL29yZGVyL29yZGVySW5mbyc7CmltcG9ydCBkcml2ZXJBcGkgZnJvbSAnQC9hcGkvdXNlci9kcml2ZXInOwppbXBvcnQgd2FyZUFwaSBmcm9tICdAL2FwaS9zeXMvd2FyZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDmlbDmja7mmK/lkKbmraPlnKjliqDovb0KICAgICAgbGlzdDogbnVsbCwKICAgICAgLy8gYmFubmVy5YiX6KGoCiAgICAgIHNlYXJjaE9iajoge30sCiAgICAgIC8vIOafpeivouihqOWNleWvueixoQoKICAgICAgd2FyZUxpc3Q6IFtdLAogICAgICBsZWFkZXJMaXN0OiBbXSwKICAgICAgcmVjZWl2ZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICByZWNlaXZlTGlzdDogW10sCiAgICAgIHNlbmREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbGVhZGVySWQ6IG51bGwsCiAgICAgIGRyaXZlckxpc3Q6IFtdLAogICAgICBkcml2ZXI6IG51bGwKICAgIH07CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ/lh73mlbDvvJrlhoXlrZjlh4blpIflrozmr5XvvIzpobXpnaLlsJrmnKrmuLLmn5MKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2xpc3QgY3JlYXRlZC4uLi4uLicpOwogICAgdGhpcy5mZXRjaFdhcmVMaXN0KCk7CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ/lh73mlbDvvJrlhoXlrZjlh4blpIflrozmr5XvvIzpobXpnaLmuLLmn5PmiJDlip8KICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coJ2xpc3QgbW91bnRlZC4uLi4uLicpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yqg6L29YmFubmVy5YiX6KGo5pWw5o2uCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgYXBpLmZpbmRSZWNlaXZlTGlzdCh0aGlzLnNlYXJjaE9iai53YXJlSWQsIHRoaXMuc2VhcmNoT2JqLmRhdGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIC8vIOaVsOaNruWKoOi9veW5tue7keWumuaIkOWKnwogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGZldGNoV2FyZUxpc3Q6IGZ1bmN0aW9uIGZldGNoV2FyZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB3YXJlQXBpLmZpbmRBbGxMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIud2FyZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaFJlY2VpdmVMaXN0OiBmdW5jdGlvbiBmZXRjaFJlY2VpdmVMaXN0KGxlYWRlcmlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnJlY2VpdmVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgYXBpLmZpbmRMZWFkZXJSZWNlaXZlTGlzdChsZWFkZXJpZCwgdGhpcy5zZWFyY2hPYmouZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMucmVjZWl2ZUxpc3QgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KICAgICAgICBfdGhpczMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZDogZnVuY3Rpb24gc2VuZChsZWFkZXJJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy5zZW5kRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMubGVhZGVySWQgPSBsZWFkZXJJZDsKICAgICAgZHJpdmVyQXBpLmZpbmREcml2ZXIodGhpcy5zZWFyY2hPYmoud2FyZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5kcml2ZXJMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZFNhdmU6IGZ1bmN0aW9uIHNlbmRTYXZlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIG9yZGVyRGVsaXZlclZvID0gewogICAgICAgIGRlbGl2ZXJEYXRlOiB0aGlzLnNlYXJjaE9iai5kYXRlLAogICAgICAgIGxlYWRlcklkOiB0aGlzLmxlYWRlcklkLAogICAgICAgIGRyaXZlcklkOiB0aGlzLmRyaXZlci5pZCwKICAgICAgICBkcml2ZXJOYW1lOiB0aGlzLmRyaXZlci5uYW1lLAogICAgICAgIGRyaXZlclBob25lOiB0aGlzLmRyaXZlci5waG9uZQogICAgICB9OwogICAgICBkZWJ1Z2dlcjsKICAgICAgYXBpLmRlbGl2ZXIob3JkZXJEZWxpdmVyVm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5HotKfmiJDlip8hJwogICAgICAgIH0pOwogICAgICAgIF90aGlzNS5mZXRjaERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572u5p+l6K+i6KGo5Y2VCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgY29uc29sZS5sb2coJ+mHjee9ruafpeivouihqOWNlScpOwogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9OwogICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","driverApi","wareApi","data","listLoading","list","searchObj","wareList","leaderList","receiveDialogVisible","receiveList","sendDialogVisible","leaderId","driverList","driver","created","console","log","fetchWareList","mounted","methods","fetchData","_this","findReceiveList","wareId","date","then","response","_this2","findAllList","fetchReceiveList","leaderid","_this3","findLeaderReceiveList","send","_this4","findDriver","sendSave","_this5","orderDeliverVo","deliverDate","driverId","id","driverName","name","driverPhone","phone","deliver","$message","type","message","resetData"],"sources":["src/views/order/orderInfo/deliverList.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <el-form inline>\n\n        <el-form-item label=\"下单时间\">\n          <el-date-picker\n            v-model=\"searchObj.date\"\n            type=\"date\"\n            placeholder=\"选择开始日期\"\n            value-format=\"yyyy-MM-dd\" />\n        </el-form-item>\n\n        <el-form-item label=\"仓库\">\n          <el-select v-model=\"searchObj.wareId\" placeholder=\"请选择\" @change=\"fetchLeaderList\">\n            <el-option\n              v-for=\"ware in wareList\"\n              :key=\"ware.id\"\n              :label=\"ware.name\"\n              :value=\"ware.id\"/>\n          </el-select>\n        </el-form-item>\n\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"fetchData()\">查询</el-button>\n        <el-button type=\"default\" @click=\"resetSearch\">清空</el-button>\n      </el-form>\n    </el-card>\n\n    <!-- 工具条 -->\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n      <el-button class=\"btn-add\" size=\"mini\" style=\"margin: 0 10px;\">打印</el-button>\n    </el-card>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      element-loading-text=\"数据正在加载......\"\n      border\n      fit\n      highlight-current-row>\n\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"50\"\n        align=\"center\">\n      </el-table-column>\n\n      <el-table-column prop=\"leaderName\" label=\"团长\" width=\"90\"/>\n      <el-table-column prop=\"leaderPhone\" label=\"团长电话\" width=\"100\"/>\n      <el-table-column prop=\"takeName\" label=\"提货点\" width=\"130\"/>\n      <el-table-column prop=\"skuNum\" label=\"商品数量\" width=\"80\"/>\n      <el-table-column prop=\"driverName\" label=\"司机\" width=\"90\"/>\n      <el-table-column prop=\"driverPhone\" label=\"司机电话\" width=\"100\"/>\n      <el-table-column prop=\"deliverDate\" label=\"配送日期\" width=\"100\"/>\n      <el-table-column prop=\"createTime\" label=\"配送时间\"/>\n      <el-table-column label=\"状态\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <p>{{ scope.row.deliverStatus == 0 ? '未发货' : scope.row.deliverStatus == 1 ? '已发货' : '已收货'}}</p>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"140\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"text\" @click=\"fetchReceiveList(scope.row.leaderId)\">发货明细</el-button>\n          <el-button size=\"mini\" type=\"text\" v-if=\"scope.row.deliverStatus == 0\" @click=\"send(scope.row.leaderId)\">发货</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"发货清单\" :visible.sync=\"receiveDialogVisible\" width=\"40%\">\n      <el-table\n        v-loading=\"listLoading\"\n        :data=\"receiveList\"\n        element-loading-text=\"数据正在加载......\"\n        border\n        fit\n        highlight-current-row>\n\n        <el-table-column\n          type=\"index\"\n          label=\"序号\"\n          width=\"50\"\n          align=\"center\">\n        </el-table-column>\n\n        <el-table-column prop=\"skuName\" label=\"商品\"/>\n        <el-table-column prop=\"skuNum\" label=\"商品数量\" width=\"130\" />\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"receiveDialogVisible = false\" size=\"small\">取 消</el-button>\n      </span>\n    </el-dialog>\n\n    <el-dialog title=\"发货\" :visible.sync=\"sendDialogVisible\" width=\"40%\">\n      <el-form ref=\"flashPromotionForm\" label-width=\"150px\" size=\"small\">\n        <el-form-item label=\"司机：\">\n          <el-select v-model=\"driver\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"driver in driverList\"\n              :key=\"driver.id\"\n              :label=\"driver.name\"\n              :value=\"driver\"/>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <template slot-scope=\"scope\">\n            <el-button @click=\"sendDialogVisible = false\" size=\"small\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"sendSave()\" size=\"small\">确 定</el-button>\n          </template>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport api from '@/api/order/orderInfo'\nimport driverApi from '@/api/user/driver'\nimport wareApi from '@/api/sys/ware'\nexport default {\n  data() {\n    return {\n      listLoading: false, // 数据是否正在加载\n      list: null, // banner列表\n      searchObj: {}, // 查询表单对象\n\n      wareList: [],\n      leaderList: [],\n\n      receiveDialogVisible: false,\n      receiveList: [],\n\n      sendDialogVisible: false,\n      leaderId: null,\n      driverList: [],\n      driver: null,\n    }\n  },\n\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    console.log('list created......')\n    this.fetchWareList();\n  },\n\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    console.log('list mounted......')\n  },\n\n  methods: {\n\n    // 加载banner列表数据\n    fetchData() {\n      api.findReceiveList(this.searchObj.wareId, this.searchObj.date).then(\n        response => {\n          this.list = response.data\n\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n\n    fetchWareList() {\n      wareApi.findAllList().then(response => {\n        this.wareList = response.data\n      })\n    },\n\n    fetchReceiveList(leaderid) {\n      this.receiveDialogVisible = true\n      api.findLeaderReceiveList(leaderid, this.searchObj.date).then(\n        response => {\n          this.receiveList = response.data\n\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n\n    send(leaderId) {\n      this.sendDialogVisible = true\n      this.leaderId = leaderId;\n\n      driverApi.findDriver(this.searchObj.wareId).then(response => {\n        this.driverList = response.data\n      })\n    },\n\n    sendSave() {\n      var orderDeliverVo = {\n        deliverDate: this.searchObj.date,\n        leaderId: this.leaderId,\n        driverId: this.driver.id,\n        driverName: this.driver.name,\n        driverPhone: this.driver.phone\n      }\n      debugger\n      api.deliver(orderDeliverVo).then(response => {\n        this.$message({\n          type: 'success',\n          message: '发货成功!'\n        })\n\n        this.fetchData()\n      })\n    },\n\n    // 重置查询表单\n    resetData() {\n      console.log('重置查询表单')\n      this.searchObj = {}\n      this.fetchData()\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA,OAAAA,GAAA;AACA,OAAAC,SAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,IAAA;MAAA;MACAC,SAAA;MAAA;;MAEAC,QAAA;MACAC,UAAA;MAEAC,oBAAA;MACAC,WAAA;MAEAC,iBAAA;MACAC,QAAA;MACAC,UAAA;MACAC,MAAA;IACA;EACA;EAEA;EACAC,OAAA,WAAAA,QAAA;IACAC,OAAA,CAAAC,GAAA;IACA,KAAAC,aAAA;EACA;EAEA;EACAC,OAAA,WAAAA,QAAA;IACAH,OAAA,CAAAC,GAAA;EACA;EAEAG,OAAA;IAEA;IACAC,SAAA,WAAAA,UAAA;MAAA,IAAAC,KAAA;MACAtB,GAAA,CAAAuB,eAAA,MAAAjB,SAAA,CAAAkB,MAAA,OAAAlB,SAAA,CAAAmB,IAAA,EAAAC,IAAA,CACA,UAAAC,QAAA;QACAL,KAAA,CAAAjB,IAAA,GAAAsB,QAAA,CAAAxB,IAAA;;QAEA;QACAmB,KAAA,CAAAlB,WAAA;MACA,EACA;IACA;IAEAc,aAAA,WAAAA,cAAA;MAAA,IAAAU,MAAA;MACA1B,OAAA,CAAA2B,WAAA,GAAAH,IAAA,WAAAC,QAAA;QACAC,MAAA,CAAArB,QAAA,GAAAoB,QAAA,CAAAxB,IAAA;MACA;IACA;IAEA2B,gBAAA,WAAAA,iBAAAC,QAAA;MAAA,IAAAC,MAAA;MACA,KAAAvB,oBAAA;MACAT,GAAA,CAAAiC,qBAAA,CAAAF,QAAA,OAAAzB,SAAA,CAAAmB,IAAA,EAAAC,IAAA,CACA,UAAAC,QAAA;QACAK,MAAA,CAAAtB,WAAA,GAAAiB,QAAA,CAAAxB,IAAA;;QAEA;QACA6B,MAAA,CAAA5B,WAAA;MACA,EACA;IACA;IAEA8B,IAAA,WAAAA,KAAAtB,QAAA;MAAA,IAAAuB,MAAA;MACA,KAAAxB,iBAAA;MACA,KAAAC,QAAA,GAAAA,QAAA;MAEAX,SAAA,CAAAmC,UAAA,MAAA9B,SAAA,CAAAkB,MAAA,EAAAE,IAAA,WAAAC,QAAA;QACAQ,MAAA,CAAAtB,UAAA,GAAAc,QAAA,CAAAxB,IAAA;MACA;IACA;IAEAkC,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,cAAA;QACAC,WAAA,OAAAlC,SAAA,CAAAmB,IAAA;QACAb,QAAA,OAAAA,QAAA;QACA6B,QAAA,OAAA3B,MAAA,CAAA4B,EAAA;QACAC,UAAA,OAAA7B,MAAA,CAAA8B,IAAA;QACAC,WAAA,OAAA/B,MAAA,CAAAgC;MACA;MACA;MACA9C,GAAA,CAAA+C,OAAA,CAAAR,cAAA,EAAAb,IAAA,WAAAC,QAAA;QACAW,MAAA,CAAAU,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QAEAZ,MAAA,CAAAjB,SAAA;MACA;IACA;IAEA;IACA8B,SAAA,WAAAA,UAAA;MACAnC,OAAA,CAAAC,GAAA;MACA,KAAAX,SAAA;MACA,KAAAe,SAAA;IACA;EACA;AACA"}]}