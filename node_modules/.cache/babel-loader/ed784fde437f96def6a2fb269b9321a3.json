{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/attr/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/attr/form.vue","mtime":1678063974000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/babel.config.js","mtime":1637306514000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpdXNoYW9odWEvUHJvamVjdC9zc3l4LXdlYi9zc3l4LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvcHJvZHVjdC9hdHRyJzsKdmFyIGRlZmF1bHRGb3JtID0gewogIGlkOiAnJywKICBuYW1lOiAnJywKICBpbnB1dFR5cGU6ICcnLAogIHNlbGVjdExpc3Q6ICcnLAogIGF0dHJHcm91cElkOiAnJwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF0dHI6IGRlZmF1bHRGb3JtLAogICAgICBzYXZlQnRuRGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgLy8g55uR5ZCs5ZmoCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGNvbnNvbGUubG9nKCfot6/nlLHlj5jljJYuLi4uLi4nKTsKICAgICAgY29uc29sZS5sb2codG8pOwogICAgICBjb25zb2xlLmxvZyhmcm9tKTsKICAgICAgdGhpcy5pbml0KCk7CiAgICB9CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ/mlrnms5XvvIjlnKjot6/nlLHliIfmjaLvvIznu4Tku7bkuI3lj5jnmoTmg4XlhrXkuIvkuI3kvJrooqvosIPnlKjvvIkKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2Zvcm0gY3JlYXRlZCAuLi4uLi4nKTsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6KGo5Y2V5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAvLyBkZWJ1Z2dlcgogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICB0aGlzLmZldGNoRGF0YUJ5SWQoaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWvueixoeaLk+Wxlei/kOeul+espu+8muaLt+i0neWvueixoe+8jOiAjOS4jeaYr+i1i+WAvOWvueixoeeahOW8leeUqAogICAgICAgIHRoaXMuYXR0ciA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRGb3JtKTsKICAgICAgICB0aGlzLmF0dHIuYXR0ckdyb3VwSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5hdHRyR3JvdXBJZDsKICAgICAgfQogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkgewogICAgICB0aGlzLnNhdmVCdG5EaXNhYmxlZCA9IHRydWU7IC8vIOmYsuatouihqOWNlemHjeWkjeaPkOS6pAogICAgICBpZiAoIXRoaXMuYXR0ci5pZCkgewogICAgICAgIHRoaXMuc2F2ZURhdGEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0ZURhdGEoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaWsOWingogICAgc2F2ZURhdGE6IGZ1bmN0aW9uIHNhdmVEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBhcGkuc2F2ZSh0aGlzLmF0dHIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gZGVidWdnZXIKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSkgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9wcm9kdWN0L2F0dHIvbGlzdC8nICsgX3RoaXMuYXR0ci5hdHRyR3JvdXBJZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoLnmja5pZOabtOaWsOiusOW9lQogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGFwaS51cGRhdGVCeUlkKHRoaXMuYXR0cikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBkZWJ1Z2dlcjsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL3Byb2R1Y3QvYXR0ci9saXN0LycgKyBfdGhpczIuYXR0ci5hdHRyR3JvdXBJZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9wcm9kdWN0L2F0dHIvbGlzdC8nICsgdGhpcy5hdHRyLmF0dHJHcm91cElkCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNrmlk5p+l6K+i6K6w5b2VCiAgICBmZXRjaERhdGFCeUlkOiBmdW5jdGlvbiBmZXRjaERhdGFCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBhcGkuZ2V0QnlJZChpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBkZWJ1Z2dlcgogICAgICAgIF90aGlzMy5hdHRyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["api","defaultForm","id","name","inputType","selectList","attrGroupId","data","attr","saveBtnDisabled","watch","$route","to","from","console","log","init","created","methods","params","fetchDataById","_objectSpread","query","saveOrUpdate","saveData","updateData","_this","save","then","response","code","$message","type","message","$router","push","path","_this2","updateById","back","_this3","getById"],"sources":["src/views/product/attr/form.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form label-width=\"120px\">\n\n      <el-form-item label=\"属性名称\">\n        <el-input v-model=\"attr.name\"/>\n      </el-form-item>\n      <el-form-item label=\"属性录入方式:\">\n        <el-radio-group v-model=\"attr.inputType\">\n          <el-radio :label=\"0\">手动录入</el-radio>\n          <el-radio :label=\"1\">列表中选择</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"属性值可选值:\">\n        <el-input v-model=\"attr.selectList\" :autosize=\"true\" type=\"textarea\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button :disabled=\"saveBtnDisabled\" type=\"primary\" @click=\"saveOrUpdate\">保存</el-button>\n        <el-button @click=\"back\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n\nimport api from '@/api/product/attr'\n\nconst defaultForm = {\n  id: '',\n  name: '',\n  inputType: '',\n  selectList: '',\n  attrGroupId: ''\n}\n\nexport default {\n  data() {\n    return {\n      attr: defaultForm,\n      saveBtnDisabled: false\n    }\n  },\n\n  // 监听器\n  watch: {\n    $route(to, from) {\n      console.log('路由变化......')\n      console.log(to)\n      console.log(from)\n      this.init()\n    }\n  },\n\n  // 生命周期方法（在路由切换，组件不变的情况下不会被调用）\n  created() {\n    console.log('form created ......')\n    this.init()\n  },\n\n  methods: {\n\n    // 表单初始化\n    init() {\n      // debugger\n      if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id\n        this.fetchDataById(id)\n      } else {\n        // 对象拓展运算符：拷贝对象，而不是赋值对象的引用\n        this.attr = { ...defaultForm }\n        this.attr.attrGroupId = this.$route.query.attrGroupId\n      }\n    },\n\n    saveOrUpdate() {\n      this.saveBtnDisabled = true // 防止表单重复提交\n      if (!this.attr.id) {\n        this.saveData()\n      } else {\n        this.updateData()\n      }\n    },\n\n    // 新增\n    saveData() {\n      api.save(this.attr).then(response => {\n        // debugger\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.$router.push({ path: '/product/attr/list/' + this.attr.attrGroupId })\n        }\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      api.updateById(this.attr).then(response => {\n        debugger\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.$router.push({ path: '/product/attr/list/' + this.attr.attrGroupId })\n        }\n      })\n    },\n\n    back() {\n      this.$router.push({ path: '/product/attr/list/' + this.attr.attrGroupId })\n    },\n\n    // 根据id查询记录\n    fetchDataById(id) {\n      api.getById(id).then(response => {\n        // debugger\n        this.attr = response.data\n      })\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAAA,GAAA;AAEA,IAAAC,WAAA;EACAC,EAAA;EACAC,IAAA;EACAC,SAAA;EACAC,UAAA;EACAC,WAAA;AACA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA,EAAAP,WAAA;MACAQ,eAAA;IACA;EACA;EAEA;EACAC,KAAA;IACAC,MAAA,WAAAA,OAAAC,EAAA,EAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA;MACAD,OAAA,CAAAC,GAAA,CAAAH,EAAA;MACAE,OAAA,CAAAC,GAAA,CAAAF,IAAA;MACA,KAAAG,IAAA;IACA;EACA;EAEA;EACAC,OAAA,WAAAA,QAAA;IACAH,OAAA,CAAAC,GAAA;IACA,KAAAC,IAAA;EACA;EAEAE,OAAA;IAEA;IACAF,IAAA,WAAAA,KAAA;MACA;MACA,SAAAL,MAAA,CAAAQ,MAAA,SAAAR,MAAA,CAAAQ,MAAA,CAAAjB,EAAA;QACA,IAAAA,EAAA,QAAAS,MAAA,CAAAQ,MAAA,CAAAjB,EAAA;QACA,KAAAkB,aAAA,CAAAlB,EAAA;MACA;QACA;QACA,KAAAM,IAAA,GAAAa,aAAA,KAAApB,WAAA;QACA,KAAAO,IAAA,CAAAF,WAAA,QAAAK,MAAA,CAAAW,KAAA,CAAAhB,WAAA;MACA;IACA;IAEAiB,YAAA,WAAAA,aAAA;MACA,KAAAd,eAAA;MACA,UAAAD,IAAA,CAAAN,EAAA;QACA,KAAAsB,QAAA;MACA;QACA,KAAAC,UAAA;MACA;IACA;IAEA;IACAD,QAAA,WAAAA,SAAA;MAAA,IAAAE,KAAA;MACA1B,GAAA,CAAA2B,IAAA,MAAAnB,IAAA,EAAAoB,IAAA,WAAAC,QAAA;QACA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACAJ,KAAA,CAAAK,QAAA;YACAC,IAAA;YACAC,OAAA,EAAAJ,QAAA,CAAAI;UACA;UACAP,KAAA,CAAAQ,OAAA,CAAAC,IAAA;YAAAC,IAAA,0BAAAV,KAAA,CAAAlB,IAAA,CAAAF;UAAA;QACA;MACA;IACA;IAEA;IACAmB,UAAA,WAAAA,WAAA;MAAA,IAAAY,MAAA;MACArC,GAAA,CAAAsC,UAAA,MAAA9B,IAAA,EAAAoB,IAAA,WAAAC,QAAA;QACA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACAO,MAAA,CAAAN,QAAA;YACAC,IAAA;YACAC,OAAA,EAAAJ,QAAA,CAAAI;UACA;UACAI,MAAA,CAAAH,OAAA,CAAAC,IAAA;YAAAC,IAAA,0BAAAC,MAAA,CAAA7B,IAAA,CAAAF;UAAA;QACA;MACA;IACA;IAEAiC,IAAA,WAAAA,KAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;QAAAC,IAAA,+BAAA5B,IAAA,CAAAF;MAAA;IACA;IAEA;IACAc,aAAA,WAAAA,cAAAlB,EAAA;MAAA,IAAAsC,MAAA;MACAxC,GAAA,CAAAyC,OAAA,CAAAvC,EAAA,EAAA0B,IAAA,WAAAC,QAAA;QACA;QACAW,MAAA,CAAAhC,IAAA,GAAAqB,QAAA,CAAAtB,IAAA;MACA;IACA;EACA;AACA"}]}