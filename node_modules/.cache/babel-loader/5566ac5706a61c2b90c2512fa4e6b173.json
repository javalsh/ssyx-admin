{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/role/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/role/list.vue","mtime":1678517116000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/babel.config.js","mtime":1637306514000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2xpdXNoYW9odWEvUHJvamVjdC9zc3l4LXdlYi9zc3l4LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2xpdXNoYW9odWEvUHJvamVjdC9zc3l4LXdlYi9zc3l4LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpdXNoYW9odWEvUHJvamVjdC9zc3l4LXdlYi9zc3l4LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JvbGVMaXN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIC8vIOaVsOaNruaYr+WQpuato+WcqOWKoOi9vQogICAgICByb2xlczogW10sCiAgICAgIC8vIOinkuiJsuWIl+ihqAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5oC76K6w5b2V5pWwCiAgICAgIHBhZ2U6IDEsCiAgICAgIC8vIOW9k+WJjemhteeggQogICAgICBsaW1pdDogNSwKICAgICAgLy8g5q+P6aG16K6w5b2V5pWwCiAgICAgIHRlbXBTZWFyY2hPYmo6IHsKICAgICAgICAvLyDmlLbpm4bmkJzntKLmnaHku7bmlbDmja4KICAgICAgICByb2xlTmFtZTogJycKICAgICAgfSwKICAgICAgc2VhcmNoT2JqOiB7CiAgICAgICAgLy8g5Y+R6YCB6K+35rGC55qE5p2h5Lu25Y+C5pWw5pWw5o2uCiAgICAgICAgcm9sZU5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHNlbGVjdGVkUm9sZXM6IFtdIC8vIOaJgOaciemAieS4reeahOinkuiJsuWIl+ihqAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKgogICAg5Y+W5raI5L+u5pS5CiAgICAqLwogICAgY2FuY2VsRWRpdDogZnVuY3Rpb24gY2FuY2VsRWRpdChyb2xlKSB7CiAgICAgIHJvbGUucm9sZU5hbWUgPSByb2xlLm9yaWdpblJvbGVOYW1lOwogICAgICByb2xlLmVkaXQgPSBmYWxzZTsKICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCflj5bmtojop5LoibLkv67mlLknKTsKICAgIH0sCiAgICAvKgogICAg5pu05paw6KeS6ImyCiAgICAqLwogICAgdXBkYXRlUm9sZTogZnVuY3Rpb24gdXBkYXRlUm9sZShyb2xlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJEFQSS5yb2xlLnVwZGF0ZUJ5SWQoewogICAgICAgIGlkOiByb2xlLmlkLAogICAgICAgIHJvbGVOYW1lOiByb2xlLnJvbGVOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UgfHwgJ+abtOaWsOinkuiJsuaIkOWKnyEnKTsKICAgICAgICBfdGhpcy5nZXRSb2xlcyhfdGhpcy5wYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgLyoKICAgIOavj+mhteaVsOmHj+WPkeeUn+aUueWPmOeahOebkeWQrAogICAgKi8KICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5saW1pdCA9IHBhZ2VTaXplOwogICAgICB0aGlzLmdldFJvbGVzKCk7CiAgICB9LAogICAgLyoKICAgIOa3u+WKoOinkuiJsgogICAgKi8KICAgIGFkZFJvbGU6IGZ1bmN0aW9uIGFkZFJvbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyDmmL7npLrmt7vliqDnlYzpnaIKICAgICAgdGhpcy4kcHJvbXB0KCfor7fovpPlhaXmlrDlkI3np7AnLCAn5re75Yqg6KeS6ImyJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgICBfdGhpczIuJEFQSS5yb2xlLnNhdmUoewogICAgICAgICAgcm9sZU5hbWU6IHZhbHVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXN1bHQubWVzc2FnZSB8fCAn5re75Yqg6KeS6Imy5oiQ5YqfJyk7CiAgICAgICAgICBfdGhpczIuZ2V0Um9sZXMoKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCflj5bmtojmt7vliqAnKTsKICAgICAgfSk7CiAgICB9LAogICAgLyoKICAgIOW8guatpeiOt+WPluinkuiJsuWIhumhteWIl+ihqAogICAgKi8KICAgIGdldFJvbGVzOiBmdW5jdGlvbiBnZXRSb2xlcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGxpbWl0ID0gdGhpcy5saW1pdCwKICAgICAgICBzZWFyY2hPYmogPSB0aGlzLnNlYXJjaE9iajsKICAgICAgdGhpcy4kQVBJLnJvbGUuZ2V0UGFnZUxpc3QocGFnZSwgbGltaXQsIHNlYXJjaE9iaikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgdmFyIF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhLAogICAgICAgICAgcmVjb3JkcyA9IF9yZXN1bHQkZGF0YS5yZWNvcmRzLAogICAgICAgICAgdG90YWwgPSBfcmVzdWx0JGRhdGEudG90YWw7CiAgICAgICAgX3RoaXMzLnJvbGVzID0gcmVjb3Jkcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uZWRpdCA9IGZhbHNlOyAvLyDnlKjkuo7moIfor4bmmK/lkKbmmL7npLrnvJbovpHovpPlhaXmoYbnmoTlsZ7mgKcKICAgICAgICAgIGl0ZW0ub3JpZ2luUm9sZU5hbWUgPSBpdGVtLnJvbGVOYW1lOyAvLyDnvJPlrZjop5LoibLlkI3np7AsIOeUqOS6juWPlua2iAogICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gdG90YWw7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvKgogICAg5qC55o2u5pCc57Si5p2h5Lu26L+b6KGM5pCc57SiCiAgICAqLwogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMuc2VhcmNoT2JqID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy50ZW1wU2VhcmNoT2JqKTsKICAgICAgdGhpcy5nZXRSb2xlcygpOwogICAgfSwKICAgIC8qCiAgICDph43nva7mn6Xor6LooajljZXmkJzntKLliJfooagKICAgICovCiAgICByZXNldFNlYXJjaDogZnVuY3Rpb24gcmVzZXRTZWFyY2goKSB7CiAgICAgIHRoaXMudGVtcFNlYXJjaE9iaiA9IHsKICAgICAgICByb2xlTmFtZTogJycKICAgICAgfTsKICAgICAgdGhpcy5zZWFyY2hPYmogPSB7CiAgICAgICAgcm9sZU5hbWU6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuZ2V0Um9sZXMoKTsKICAgIH0sCiAgICAvKgogICAg5Yig6Zmk5oyH5a6a55qE6KeS6ImyCiAgICAqLwogICAgcmVtb3ZlUm9sZTogZnVuY3Rpb24gcmVtb3ZlUm9sZShfcmVmMikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGlkID0gX3JlZjIuaWQsCiAgICAgICAgcm9sZU5hbWUgPSBfcmVmMi5yb2xlTmFtZTsKICAgICAgdGhpcy4kY29uZmlybSgiXHU3ODZFXHU1QjlBXHU1MjIwXHU5NjY0ICciLmNvbmNhdChyb2xlTmFtZSwgIicgXHU1NDE3PyIpLCAn5o+Q56S6JywgewogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kQVBJLnJvbGUucmVtb3ZlQnlJZChpZCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzNC5nZXRSb2xlcyhfdGhpczQucm9sZXMubGVuZ3RoID09PSAxID8gX3RoaXM0LnBhZ2UgLSAxIDogX3RoaXM0LnBhZ2UpOwogICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlIHx8ICfliKDpmaTmiJDlip8hJyk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6ZmkJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qCiAgICDlvZPooajmoLzlpI3pgInmoYbpgInpobnlj5HnlJ/lj5jljJbnmoTml7blgJnop6blj5EKICAgICovCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZWxlY3RlZFJvbGVzID0gc2VsZWN0aW9uOwogICAgfSwKICAgIC8qCiAgICDmibnph4/liKDpmaQKICAgICovCiAgICByZW1vdmVSb2xlczogZnVuY3Rpb24gcmVtb3ZlUm9sZXMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaWRzLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlkcyA9IF90aGlzNS5zZWxlY3RlZFJvbGVzLm1hcChmdW5jdGlvbiAocm9sZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJvbGUuaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJEFQSS5yb2xlLnJlbW92ZVJvbGVzKGlkcyk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfdGhpczUuZ2V0Um9sZXMoKTsKICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aJuemHj+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7fSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","data","listLoading","roles","total","page","limit","tempSearchObj","roleName","searchObj","selectedRoles","mounted","getRoles","methods","cancelEdit","role","originRoleName","edit","$message","warning","updateRole","_this","$API","updateById","id","then","result","success","message","handleSizeChange","pageSize","addRole","_this2","$prompt","confirmButtonText","cancelButtonText","_ref","value","save","catch","_this3","arguments","length","undefined","getPageList","_result$data","records","map","item","finally","search","_objectSpread","resetSearch","removeRole","_ref2","_this4","$confirm","concat","type","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","removeById","sent","stop","info","handleSelectionChange","selection","removeRoles","_this5","_callee2","ids","_callee2$","_context2"],"sources":["src/views/acl/role/list.vue"],"sourcesContent":["<template>\n  <div>\n\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <div style=\"margin-top: 15px\">\n        <el-form :inline=\"true\" size=\"small\" label-width=\"140px\">\n          <el-form-item label=\"输入搜索：\">\n            <el-input style=\"width: 203px\" v-model=\"tempSearchObj.roleName\" placeholder=\"角色名称\"></el-input>\n          </el-form-item>\n\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\">查询</el-button>\n          <el-button type=\"default\" @click=\"resetSearch()\">清空</el-button>\n        </el-form>\n      </div>\n    </el-card>\n\n    <!-- 工具条 -->\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"addRole\">添加</el-button>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"removeRoles()\" :disabled=\"selectedRoles.length === 0\" style=\"margin: 0 10px;\">批量删除</el-button>\n    </el-card>\n\n    <el-table\n      border\n      stripe\n      v-loading=\"listLoading\"\n      :data=\"roles\"\n      @selection-change=\"handleSelectionChange\">\n\n      <el-table-column\n        type=\"selection\"\n        width=\"75\" />\n\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"100\"\n        align=\"center\">\n      </el-table-column>\n\n      <el-table-column label=\"角色名称\" width=\"500\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <template v-if=\"row.edit\">\n            <el-input v-model=\"row.roleName\" class=\"edit-input\" size=\"small\" />\n            <el-button\n              class=\"cancel-btn\"\n              size=\"small\"\n              icon=\"el-icon-refresh\"\n              type=\"warning\"\n              @click=\"cancelEdit(row)\"\n            >\n              取消\n            </el-button>\n          </template>\n          <span v-else>{{ row.roleName }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <HintButton size=\"mini\" type=\"info\" icon=\"el-icon-info\" title=\"分配权限\"\n            @click=\"$router.push(`/acl/role/auth/${row.id}?roleName=${row.roleName}`)\"/>\n\n          <HintButton size=\"mini\" type=\"primary\" icon=\"el-icon-check\" title=\"确定\"\n            @click=\"updateRole(row)\" v-if=\"row.edit\"/>\n          <HintButton size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" title=\"修改角色\"\n            @click=\"row.edit= true\" v-if=\"!row.edit\" />\n          <HintButton size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" title=\"删除角色\"\n            @click=\"removeRole(row)\"/>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页组件 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20]\"\n      style=\"padding: 10px;\"\n      layout=\"prev, pager, next, jumper, ->, sizes, total\"\n      @current-change=\"getRoles\"\n      @size-change=\"handleSizeChange\"\n    />\n  </div>\n</template>\n\n<script>\n\nexport default {\n\n  name: 'RoleList',\n\n  data() {\n    return {\n      listLoading: true, // 数据是否正在加载\n      roles: [], // 角色列表\n      total: 0, // 总记录数\n      page: 1, // 当前页码\n      limit: 5, // 每页记录数\n      tempSearchObj: { // 收集搜索条件数据\n        roleName: '',\n      },\n      searchObj: { // 发送请求的条件参数数据\n        roleName: '',\n      },\n      selectedRoles: [] // 所有选中的角色列表\n    }\n  },\n\n  mounted() {\n    this.getRoles()\n  },\n\n  methods: {\n\n    /*\n    取消修改\n    */\n    cancelEdit(role) {\n      role.roleName = role.originRoleName\n      role.edit = false\n      this.$message.warning('取消角色修改')\n    },\n\n    /*\n    更新角色\n    */\n    updateRole (role) {\n      this.$API.role.updateById({id: role.id, roleName: role.roleName})\n        .then(result => {\n          this.$message.success(result.message|| '更新角色成功!')\n          this.getRoles(this.page)\n        })\n    },\n\n    /*\n    每页数量发生改变的监听\n    */\n    handleSizeChange(pageSize) {\n      this.limit = pageSize\n      this.getRoles()\n    },\n\n    /*\n    添加角色\n    */\n    addRole(){\n      // 显示添加界面\n      this.$prompt('请输入新名称', '添加角色', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({ value }) => {\n        this.$API.role.save({roleName: value}).then(result => {\n          this.$message.success(result.message || '添加角色成功')\n          this.getRoles()\n        })\n      }).catch(() => {\n        this.$message.warning('取消添加')\n      })\n    },\n\n    /*\n    异步获取角色分页列表\n    */\n    getRoles(page = 1) {\n      this.page = page\n      this.listLoading = true\n      const {limit, searchObj} = this\n      this.$API.role.getPageList(page, limit, searchObj).then(\n        result => {\n          const {records, total} = result.data\n          this.roles = records.map(item => {\n            item.edit = false // 用于标识是否显示编辑输入框的属性\n            item.originRoleName = item.roleName // 缓存角色名称, 用于取消\n            return item\n          })\n          this.total = total\n        }\n      ).finally(() => {\n        this.listLoading = false\n      })\n    },\n\n    /*\n    根据搜索条件进行搜索\n    */\n    search () {\n      this.searchObj = {...this.tempSearchObj}\n      this.getRoles()\n    },\n\n    /*\n    重置查询表单搜索列表\n    */\n    resetSearch() {\n      this.tempSearchObj = {\n        roleName: ''\n      }\n      this.searchObj = {\n        roleName: ''\n      }\n      this.getRoles()\n    },\n\n    /*\n    删除指定的角色\n    */\n    removeRole ({id, roleName}) {\n      this.$confirm(`确定删除 '${roleName}' 吗?`, '提示', {\n        type: 'warning'\n      }).then(async () => {\n        const result = await this.$API.role.removeById(id)\n        this.getRoles(this.roles.length===1 ? this.page-1 : this.page)\n        this.$message.success(result.message || '删除成功!')\n      }).catch(() => {\n        this.$message.info('已取消删除')\n      })\n    },\n\n    /*\n    当表格复选框选项发生变化的时候触发\n    */\n    handleSelectionChange(selection) {\n      this.selectedRoles = selection\n    },\n\n    /*\n    批量删除\n    */\n    removeRoles () {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        type: 'warning'\n      }).then(async () => {\n        const ids = this.selectedRoles.map(role => role.id)\n        const result = await this.$API.role.removeRoles(ids)\n        this.getRoles()\n        this.$message({\n          type: 'success',\n          message: '批量删除成功!'\n        })\n      }).then((result) => {\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.edit-input {\n  padding-right: 100px;\n}\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;EAEAA,IAAA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,KAAA;MAAA;MACAC,KAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,aAAA;QAAA;QACAC,QAAA;MACA;MACAC,SAAA;QAAA;QACAD,QAAA;MACA;MACAE,aAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,QAAA;EACA;EAEAC,OAAA;IAEA;AACA;AACA;IACAC,UAAA,WAAAA,WAAAC,IAAA;MACAA,IAAA,CAAAP,QAAA,GAAAO,IAAA,CAAAC,cAAA;MACAD,IAAA,CAAAE,IAAA;MACA,KAAAC,QAAA,CAAAC,OAAA;IACA;IAEA;AACA;AACA;IACAC,UAAA,WAAAA,WAAAL,IAAA;MAAA,IAAAM,KAAA;MACA,KAAAC,IAAA,CAAAP,IAAA,CAAAQ,UAAA;QAAAC,EAAA,EAAAT,IAAA,CAAAS,EAAA;QAAAhB,QAAA,EAAAO,IAAA,CAAAP;MAAA,GACAiB,IAAA,WAAAC,MAAA;QACAL,KAAA,CAAAH,QAAA,CAAAS,OAAA,CAAAD,MAAA,CAAAE,OAAA;QACAP,KAAA,CAAAT,QAAA,CAAAS,KAAA,CAAAhB,IAAA;MACA;IACA;IAEA;AACA;AACA;IACAwB,gBAAA,WAAAA,iBAAAC,QAAA;MACA,KAAAxB,KAAA,GAAAwB,QAAA;MACA,KAAAlB,QAAA;IACA;IAEA;AACA;AACA;IACAmB,OAAA,WAAAA,QAAA;MAAA,IAAAC,MAAA;MACA;MACA,KAAAC,OAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GAAAV,IAAA,WAAAW,IAAA;QAAA,IAAAC,KAAA,GAAAD,IAAA,CAAAC,KAAA;QACAL,MAAA,CAAAV,IAAA,CAAAP,IAAA,CAAAuB,IAAA;UAAA9B,QAAA,EAAA6B;QAAA,GAAAZ,IAAA,WAAAC,MAAA;UACAM,MAAA,CAAAd,QAAA,CAAAS,OAAA,CAAAD,MAAA,CAAAE,OAAA;UACAI,MAAA,CAAApB,QAAA;QACA;MACA,GAAA2B,KAAA;QACAP,MAAA,CAAAd,QAAA,CAAAC,OAAA;MACA;IACA;IAEA;AACA;AACA;IACAP,QAAA,WAAAA,SAAA;MAAA,IAAA4B,MAAA;MAAA,IAAAnC,IAAA,GAAAoC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA,KAAApC,IAAA,GAAAA,IAAA;MACA,KAAAH,WAAA;MACA,IAAAI,KAAA,QAAAA,KAAA;QAAAG,SAAA,QAAAA,SAAA;MACA,KAAAa,IAAA,CAAAP,IAAA,CAAA6B,WAAA,CAAAvC,IAAA,EAAAC,KAAA,EAAAG,SAAA,EAAAgB,IAAA,CACA,UAAAC,MAAA;QACA,IAAAmB,YAAA,GAAAnB,MAAA,CAAAzB,IAAA;UAAA6C,OAAA,GAAAD,YAAA,CAAAC,OAAA;UAAA1C,KAAA,GAAAyC,YAAA,CAAAzC,KAAA;QACAoC,MAAA,CAAArC,KAAA,GAAA2C,OAAA,CAAAC,GAAA,WAAAC,IAAA;UACAA,IAAA,CAAA/B,IAAA;UACA+B,IAAA,CAAAhC,cAAA,GAAAgC,IAAA,CAAAxC,QAAA;UACA,OAAAwC,IAAA;QACA;QACAR,MAAA,CAAApC,KAAA,GAAAA,KAAA;MACA,EACA,CAAA6C,OAAA;QACAT,MAAA,CAAAtC,WAAA;MACA;IACA;IAEA;AACA;AACA;IACAgD,MAAA,WAAAA,OAAA;MACA,KAAAzC,SAAA,GAAA0C,aAAA,UAAA5C,aAAA;MACA,KAAAK,QAAA;IACA;IAEA;AACA;AACA;IACAwC,WAAA,WAAAA,YAAA;MACA,KAAA7C,aAAA;QACAC,QAAA;MACA;MACA,KAAAC,SAAA;QACAD,QAAA;MACA;MACA,KAAAI,QAAA;IACA;IAEA;AACA;AACA;IACAyC,UAAA,WAAAA,WAAAC,KAAA;MAAA,IAAAC,MAAA;MAAA,IAAA/B,EAAA,GAAA8B,KAAA,CAAA9B,EAAA;QAAAhB,QAAA,GAAA8C,KAAA,CAAA9C,QAAA;MACA,KAAAgD,QAAA,8BAAAC,MAAA,CAAAjD,QAAA;QACAkD,IAAA;MACA,GAAAjC,IAAA,eAAAkC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAApC,MAAA;QAAA,OAAAkC,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAZ,MAAA,CAAAjC,IAAA,CAAAP,IAAA,CAAAqD,UAAA,CAAA5C,EAAA;YAAA;cAAAE,MAAA,GAAAuC,QAAA,CAAAI,IAAA;cACAd,MAAA,CAAA3C,QAAA,CAAA2C,MAAA,CAAApD,KAAA,CAAAuC,MAAA,SAAAa,MAAA,CAAAlD,IAAA,OAAAkD,MAAA,CAAAlD,IAAA;cACAkD,MAAA,CAAArC,QAAA,CAAAS,OAAA,CAAAD,MAAA,CAAAE,OAAA;YAAA;YAAA;cAAA,OAAAqC,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAR,OAAA;MAAA,CACA,IAAAvB,KAAA;QACAgB,MAAA,CAAArC,QAAA,CAAAqD,IAAA;MACA;IACA;IAEA;AACA;AACA;IACAC,qBAAA,WAAAA,sBAAAC,SAAA;MACA,KAAA/D,aAAA,GAAA+D,SAAA;IACA;IAEA;AACA;AACA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,MAAA;MACA,KAAAnB,QAAA;QACAE,IAAA;MACA,GAAAjC,IAAA,eAAAkC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAe,SAAA;QAAA,IAAAC,GAAA,EAAAnD,MAAA;QAAA,OAAAkC,mBAAA,GAAAG,IAAA,UAAAe,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;YAAA;cACAU,GAAA,GAAAF,MAAA,CAAAjE,aAAA,CAAAqC,GAAA,WAAAhC,IAAA;gBAAA,OAAAA,IAAA,CAAAS,EAAA;cAAA;cAAAuD,SAAA,CAAAZ,IAAA;cAAA,OACAQ,MAAA,CAAArD,IAAA,CAAAP,IAAA,CAAA2D,WAAA,CAAAG,GAAA;YAAA;cAAAnD,MAAA,GAAAqD,SAAA,CAAAV,IAAA;cACAM,MAAA,CAAA/D,QAAA;cACA+D,MAAA,CAAAzD,QAAA;gBACAwC,IAAA;gBACA9B,OAAA;cACA;YAAA;YAAA;cAAA,OAAAmD,SAAA,CAAAT,IAAA;UAAA;QAAA,GAAAM,QAAA;MAAA,CACA,IAAAnD,IAAA,WAAAC,MAAA,GAEA,GAAAa,KAAA;QACAoC,MAAA,CAAAzD,QAAA;UACAwC,IAAA;UACA9B,OAAA;QACA;MACA;IACA;EACA;AACA"}]}