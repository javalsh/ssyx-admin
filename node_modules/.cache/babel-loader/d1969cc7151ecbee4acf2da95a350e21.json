{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/permission/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/permission/list.vue","mtime":1678524760000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/babel.config.js","mtime":1637306514000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL2FjbC9wZXJtaXNzaW9uJzsKdmFyIGRlZmF1bHRGb3JtID0gewogIGlkOiAnJywKICBwYXJlbnRJZDogJycsCiAgbmFtZTogJycsCiAgdHlwZTogMCwKICBwYXRoOiAnJywKICBjb21wb25lbnQ6ICcnLAogIHBlcm1zOiAnJywKICBpY29uOiAnJywKICBzb3J0VmFsdWU6IDEsCiAgc3RhdHVzOiAxCn07CmV4cG9ydCBkZWZhdWx0IHsKICAvLyDlrprkuYnmlbDmja4KICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3lzTWVudUxpc3Q6IFtdLAogICAgICBleHBhbmRLZXlzOiBbXSwKICAgICAgLy8g6ZyA6KaB6Ieq5Yqo5bGV5byA55qE6aG5CgogICAgICB0eXBlRGlzYWJsZWQ6IGZhbHNlLAogICAgICB0eXBlMERpc2FibGVkOiBmYWxzZSwKICAgICAgdHlwZTFEaXNhYmxlZDogZmFsc2UsCiAgICAgIHR5cGUyRGlzYWJsZWQ6IGZhbHNlLAogICAgICBkaWFsb2dUaXRsZTogJycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzeXNNZW51OiBkZWZhdWx0Rm9ybSwKICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgaWNvbkxpc3Q6IFt7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtdG9vbHMiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tcy1jdXN0b20iCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tc2V0dGluZyIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi11c2VyLXNvbGlkIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtaGVscCIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1waG9uZSIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1zLXVuZm9sZCIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1zLW9wZXJhdGlvbiIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi1tb3JlLW91dGxpbmUiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tcy1jaGVjayIKICAgICAgfSwgewogICAgICAgIGNsYXNzOiAiZWwtaWNvbi10aWNrZXRzIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXMtZ29vZHMiCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24tZG9jdW1lbnQtcmVtb3ZlIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXdhcm5pbmciCiAgICAgIH0sIHsKICAgICAgICBjbGFzczogImVsLWljb24td2FybmluZy1vdXRsaW5lIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLXF1ZXN0aW9uIgogICAgICB9LCB7CiAgICAgICAgY2xhc3M6ICJlbC1pY29uLWluZm8iCiAgICAgIH1dCiAgICB9OwogIH0sCiAgLy8g5b2T6aG16Z2i5Yqg6L295pe26I635Y+W5pWw5o2uCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDosIPnlKhhcGnlsYLojrflj5bmlbDmja7lupPkuK3nmoTmlbDmja4KICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmxvZygn5Yqg6L295YiX6KGoJyk7CiAgICAgIGFwaS5nZXRQZXJtaXNzaW9uTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuc3lzTWVudUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnN5c01lbnVMaXN0KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2uaWTliKDpmaTmlbDmja4KICAgIHJlbW92ZURhdGFCeUlkOiBmdW5jdGlvbiByZW1vdmVEYXRhQnlJZChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgLy8gZGVidWdnZXIKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHByb21pc2UKICAgICAgICAvLyDngrnlh7vnoa7lrprvvIzov5znqIvosIPnlKhhamF4CiAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVQZXJtaXNzaW9uKGlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuZmV0Y2hEYXRhKCk7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmluZm8oJ+WPlua2iOWIoOmZpCcpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyAtLS0tLS0tLS0tLS0tCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChyb3cpIHsKICAgICAgZGVidWdnZXI7CiAgICAgIHRoaXMudHlwZURpc2FibGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75Yqg5LiL57qn6IqC54K5JzsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zeXNNZW51ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZvcm0pOwogICAgICB0aGlzLnN5c01lbnUuaWQgPSAnJzsKICAgICAgaWYgKHJvdykgewogICAgICAgIHRoaXMuc3lzTWVudS5wYXJlbnRJZCA9IHJvdy5pZDsKICAgICAgICB0aGlzLnN5c01lbnUucGFyZW50TmFtZSA9IHJvdy5uYW1lOwogICAgICAgIC8vdGhpcy5zeXNNZW51LmNvbXBvbmVudCA9ICdQYXJlbnRWaWV3JwogICAgICAgIGlmIChyb3cudHlwZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5zeXNNZW51LnR5cGUgPSAxOwogICAgICAgICAgdGhpcy50eXBlRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudHlwZTBEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy50eXBlMURpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnR5cGUyRGlzYWJsZWQgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgPT09IDEpIHsKICAgICAgICAgIHRoaXMuc3lzTWVudS50eXBlID0gMjsKICAgICAgICAgIHRoaXMudHlwZURpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfmt7vliqDnm67lvZXoioLngrknOwogICAgICAgIHRoaXMuc3lzTWVudS50eXBlID0gMDsKICAgICAgICB0aGlzLnN5c01lbnUuY29tcG9uZW50ID0gJ0xheW91dCc7CiAgICAgICAgdGhpcy5zeXNNZW51LnBhcmVudElkID0gMDsKICAgICAgICB0aGlzLnR5cGVEaXNhYmxlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KHJvdykgewogICAgICBkZWJ1Z2dlcjsKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfkv67mlLnoioLngrknOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnN5c01lbnUgPSBPYmplY3QuYXNzaWduKHt9LCByb3cpOwogICAgICB0aGlzLnR5cGVEaXNhYmxlZCA9IHRydWU7CiAgICB9LAogICAgc2F2ZU9yVXBkYXRlOiBmdW5jdGlvbiBzYXZlT3JVcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAodGhpcy5zeXNNZW51LnR5cGUgPT09IDAgJiYgdGhpcy5zeXNNZW51LnBhcmVudElkICE9PSAwKSB7CiAgICAgICAgdGhpcy5zeXNNZW51LmNvbXBvbmVudCA9ICdQYXJlbnRWaWV3JzsKICAgICAgfQogICAgICB0aGlzLiRyZWZzLmRhdGFGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMzLnNhdmVCdG5EaXNhYmxlZCA9IHRydWU7IC8vIOmYsuatouihqOWNlemHjeWkjeaPkOS6pAogICAgICAgICAgaWYgKCFfdGhpczMuc3lzTWVudS5pZCkgewogICAgICAgICAgICBfdGhpczMuc2F2ZURhdGEoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy51cGRhdGVEYXRhKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlop4KICAgIHNhdmVEYXRhOiBmdW5jdGlvbiBzYXZlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGFwaS5hZGRQZXJtaXNzaW9uKHRoaXMuc3lzTWVudSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlIHx8ICfmk43kvZzmiJDlip8nKTsKICAgICAgICBfdGhpczQuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzNC5mZXRjaERhdGEoX3RoaXM0LnBhZ2UpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoLnmja5pZOabtOaWsOiusOW9lQogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIGFwaS51cGRhdGVQZXJtaXNzaW9uKHRoaXMuc3lzTWVudSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlIHx8ICfmk43kvZzmiJDlip8nKTsKICAgICAgICBfdGhpczUuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzNS5mZXRjaERhdGEoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["api","defaultForm","id","parentId","name","type","path","component","perms","icon","sortValue","status","data","sysMenuList","expandKeys","typeDisabled","type0Disabled","type1Disabled","type2Disabled","dialogTitle","dialogVisible","sysMenu","saveBtnDisabled","iconList","class","created","fetchData","methods","_this","console","log","getPermissionList","then","response","removeDataById","_this2","$confirm","confirmButtonText","cancelButtonText","removePermission","$message","message","catch","info","add","row","Object","assign","parentName","edit","saveOrUpdate","_this3","$refs","dataForm","validate","valid","saveData","updateData","_this4","addPermission","success","page","_this5","updatePermission"],"sources":["src/views/acl/permission/list.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 工具条 -->\n    <div class=\"tools-div\">\n      <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add()\">添 加</el-button>\n    </div>\n    <el-table\n      :data=\"sysMenuList\"\n      style=\"width: 100%;margin-bottom: 20px;margin-top: 10px;\"\n      row-key=\"id\"\n      border\n      :default-expand-all=\"false\"\n      :tree-props=\"{children: 'children'}\">\n\n      <el-table-column prop=\"name\" label=\"菜单名称\" width=\"200\"/>\n      \n      <el-table-column prop=\"code\" label=\"权限标识\" width=\"180\"/>\n      \n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"200\"/>\n      \n      <el-table-column prop=\"updateTime\" label=\"修改时间\" width=\"200\"/>\n      <el-table-column label=\"操作\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"success\" v-if=\"scope.row.type !== 2\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add(scope.row)\" title=\"添加下级节点\"/>\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row)\" title=\"修改\"/>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" title=\"删除\" :disabled=\"scope.row.children.length > 0\"/>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"40%\" >\n      <el-form ref=\"dataForm\" :model=\"sysMenu\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\n        <el-form-item label=\"上级部门\" v-if=\"sysMenu.id === ''\">\n          <el-input v-model=\"sysMenu.parentName\" disabled=\"true\"/>\n        </el-form-item>\n        <el-form-item label=\"菜单类型\" prop=\"type\">\n          <el-radio-group v-model=\"sysMenu.type\" :disabled=\"typeDisabled\">\n            <el-radio :label=\"0\" :disabled=\"type0Disabled\">目录</el-radio>\n            <el-radio :label=\"1\" :disabled=\"type1Disabled\">菜单</el-radio>\n            <el-radio :label=\"2\" :disabled=\"type2Disabled\">按钮</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"菜单名称\" prop=\"name\">\n          <el-input v-model=\"sysMenu.name\"/>\n        </el-form-item>\n        \n        <el-form-item prop=\"to_code\" v-if=\"sysMenu.type !== 0\">\n              <span slot=\"label\">\n                <el-tooltip content=\"访问的组件路径，如：`system/user/index`，默认在`views`目录下\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n                </el-tooltip>\n                组件路径\n              </span>\n          <el-input v-model=\"sysMenu.to_code\" placeholder=\"请输入组件路径\" />\n        </el-form-item>\n        <el-form-item v-if=\"sysMenu.type === 2\">\n          <el-input v-model=\"sysMenu.code\" placeholder=\"请输入权限标识\" maxlength=\"100\" />\n          <span slot=\"label\">\n                <el-tooltip content=\"控制器中定义的权限字符，如：@PreAuthorize(hasAuthority('bnt.sysRole.list'))\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n                </el-tooltip>\n                权限字符\n              </span>\n        </el-form-item>\n        \n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" size=\"small\" icon=\"el-icon-refresh-right\">取 消</el-button>\n        <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport api from '@/api/acl/permission'\nconst defaultForm = {\n  id: '',\n  parentId: '',\n  name: '',\n  type: 0,\n  path: '',\n  component: '',\n  perms: '',\n  icon: '',\n  sortValue: 1,\n  status: 1\n}\nexport default {\n  // 定义数据\n  data() {\n    return {\n      sysMenuList: [],\n      expandKeys: [], // 需要自动展开的项\n\n      typeDisabled: false,\n      type0Disabled: false,\n      type1Disabled: false,\n      type2Disabled: false,\n      dialogTitle: '',\n\n      dialogVisible: false,\n      sysMenu: defaultForm,\n      saveBtnDisabled: false,\n\n      iconList: [\n        {\n          class: \"el-icon-s-tools\",\n        },\n        {\n          class: \"el-icon-s-custom\",\n        },\n        {\n          class: \"el-icon-setting\",\n        },\n        {\n          class: \"el-icon-user-solid\",\n        },\n        {\n          class: \"el-icon-s-help\",\n        },\n        {\n          class: \"el-icon-phone\",\n        },\n        {\n          class: \"el-icon-s-unfold\",\n        },\n        {\n          class: \"el-icon-s-operation\",\n        },\n        {\n          class: \"el-icon-more-outline\",\n        },\n        {\n          class: \"el-icon-s-check\",\n        },\n        {\n          class: \"el-icon-tickets\",\n        },\n        {\n          class: \"el-icon-s-goods\",\n        },\n        {\n          class: \"el-icon-document-remove\",\n        },\n        {\n          class: \"el-icon-warning\",\n        },\n        {\n          class: \"el-icon-warning-outline\",\n        },\n        {\n          class: \"el-icon-question\",\n        },\n        {\n          class: \"el-icon-info\",\n        }\n      ]\n    }\n  },\n\n  // 当页面加载时获取数据\n  created() {\n    this.fetchData()\n  },\n\n  methods: {\n    // 调用api层获取数据库中的数据\n    fetchData() {\n      console.log('加载列表')\n      api.getPermissionList().then(response => {\n        this.sysMenuList = response.data\n        console.log(this.sysMenuList)\n      })\n    },\n\n    // 根据id删除数据\n    removeDataById(id) {\n      // debugger\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        return api.removePermission(id)\n      }).then((response) => {\n        this.fetchData()\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        })\n      }).catch(() => {\n         this.$message.info('取消删除')\n      })\n    },\n\n    // -------------\n    add(row){\n      debugger\n      this.typeDisabled = false\n      this.dialogTitle = '添加下级节点'\n      this.dialogVisible = true\n\n      this.sysMenu = Object.assign({}, defaultForm)\n      this.sysMenu.id = ''\n      if(row) {\n        this.sysMenu.parentId = row.id\n        this.sysMenu.parentName = row.name\n        //this.sysMenu.component = 'ParentView'\n        if(row.type === 0) {\n          this.sysMenu.type = 1\n          this.typeDisabled = false\n          this.type0Disabled = false\n          this.type1Disabled = false\n          this.type2Disabled = true\n        } else if(row.type === 1) {\n          this.sysMenu.type = 2\n          this.typeDisabled = true\n        }\n      } else {\n        this.dialogTitle = '添加目录节点'\n        this.sysMenu.type = 0\n        this.sysMenu.component = 'Layout'\n        this.sysMenu.parentId = 0\n        this.typeDisabled = true\n      }\n    },\n\n    edit(row) {\n      debugger\n      this.dialogTitle = '修改节点'\n      this.dialogVisible = true\n\n      this.sysMenu = Object.assign({}, row)\n      this.typeDisabled = true\n    },\n\n    saveOrUpdate() {\n      if(this.sysMenu.type === 0 && this.sysMenu.parentId !== 0) {\n        this.sysMenu.component = 'ParentView'\n      }\n      this.$refs.dataForm.validate(valid => {\n        if (valid) {\n          this.saveBtnDisabled = true // 防止表单重复提交\n          if (!this.sysMenu.id) {\n            this.saveData()\n          } else {\n            this.updateData()\n          }\n        }\n      })\n    },\n\n    // 新增\n    saveData() {\n      api.addPermission(this.sysMenu).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData(this.page)\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      api.updatePermission(this.sysMenu).then(response => {\n        this.$message.success(response.message || '操作成功')\n        this.dialogVisible = false\n        this.fetchData()\n      })\n    }\n  }\n}\n</script>"],"mappings":"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"}]}