{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/attr/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/attr/list.vue","mtime":1680586948000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvcHJvZHVjdC9hdHRyJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdHRyR3JvdXBJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwgLy8g5pWw5o2u5piv5ZCm5q2j5Zyo5Yqg6L29CiAgICAgIGxpc3Q6IG51bGwsIC8vIGJhbm5lcuWIl+ihqAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10gLy8g5om56YeP6YCJ5oup5Lit6YCJ5oup55qE6K6w5b2V5YiX6KGoCiAgICB9CiAgfSwKCiAgLy8g55Sf5ZG95ZGo5pyf5Ye95pWw77ya5YaF5a2Y5YeG5aSH5a6M5q+V77yM6aG16Z2i5bCa5pyq5riy5p+TCiAgY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdsaXN0IGNyZWF0ZWQuLi4uLi4nKQogICAgdGhpcy5mZXRjaERhdGEoKQogIH0sCgogIC8vIOeUn+WRveWRqOacn+WHveaVsO+8muWGheWtmOWHhuWkh+WujOavle+8jOmhtemdoua4suafk+aIkOWKnwogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnbGlzdCBtb3VudGVkLi4uLi4uJykKICB9LAoKICBtZXRob2RzOiB7CiAgICBhZGQoKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL3Byb2R1Y3QvYXR0ci9hZGQnLCBxdWVyeTp7IGF0dHJHcm91cElkOiB0aGlzLmF0dHJHcm91cElkIH19KQogICAgfSwKCiAgICAvLyDliqDovb1iYW5uZXLliJfooajmlbDmja4KICAgIGZldGNoRGF0YShwYWdlID0gMSkgewogICAgICBjb25zb2xlLmxvZygn57+76aG144CC44CC44CCJyArIHBhZ2UpCiAgICAgIC8vIOW8guatpeiOt+WPlui/nOeoi+aVsOaNru+8iGFqYXjvvIkKICAgICAgdGhpcy5wYWdlID0gcGFnZQoKICAgICAgYXBpLmdldExpc3QodGhpcy5hdHRyR3JvdXBJZCkudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICBkZWJ1Z2dlcgogICAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgLy8g5pWw5o2u5Yqg6L295bm257uR5a6a5oiQ5YqfCiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9CiAgICAgICkKICAgIH0sCgogICAgLy8g5qC55o2uaWTliKDpmaTmlbDmja4KICAgIHJlbW92ZURhdGFCeUlkKGlkKSB7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsgLy8gcHJvbWlzZQogICAgICAgIC8vIOeCueWHu+ehruWumu+8jOi/nOeoi+iwg+eUqGFqYXgKICAgICAgICByZXR1cm4gYXBpLnJlbW92ZUJ5SWQoaWQpCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5mZXRjaERhdGEodGhpcy5wYWdlKQogICAgICAgIGlmIChyZXNwb25zZS5jb2RlKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOW9k+ihqOagvOWkjemAieahhumAiemhueWPkeeUn+WPmOWMlueahOaXtuWAmeinpuWPkQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICBjb25zb2xlLmxvZygnaGFuZGxlU2VsZWN0aW9uQ2hhbmdlLi4uLi4uJykKICAgICAgY29uc29sZS5sb2coc2VsZWN0aW9uKQogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gc2VsZWN0aW9uCiAgICB9LAoKICAgIC8vIOaJuemHj+WIoOmZpAogICAgcmVtb3ZlUm93cygpIHsKICAgICAgY29uc29sZS5sb2coJ3JlbW92ZVJvd3MuLi4uLi4nKQoKICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6KaB5Yig6Zmk55qE6K6w5b2VIScKICAgICAgICB9KQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7IC8vIHByb21pc2UKICAgICAgICAvLyDngrnlh7vnoa7lrprvvIzov5znqIvosIPnlKhhamF4CiAgICAgICAgLy8g6YGN5Y6Gc2VsZWN0aW9u77yM5bCGaWTlj5blh7rmlL7lhaVpZOWIl+ihqAogICAgICAgIHZhciBpZExpc3QgPSBbXQogICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGlkTGlzdC5wdXNoKGl0ZW0uaWQpCiAgICAgICAgLy8gY29uc29sZS5sb2coaWRMaXN0KQogICAgICAgIH0pCiAgICAgICAgLy8g6LCD55SoYXBpCiAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVSb3dzKGlkTGlzdCkKICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmZldGNoRGF0YSh0aGlzLnBhZ2UpCiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCgogICAgYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL3Byb2R1Y3QvYXR0ckdyb3VwL2xpc3QnIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/product/attr","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 工具条 -->\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"add()\">添加</el-button>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"removeRows()\" style=\"margin: 0 10px;\">批量删除</el-button>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"back()\">返回</el-button>\n    </el-card>\n\n    <!-- banner列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n      @selection-change=\"handleSelectionChange\">\n\n      <el-table-column\n        type=\"selection\"\n        width=\"55\" />\n\n      <el-table-column\n        label=\"序号\"\n        width=\"70\"\n        align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.$index + 1 }}\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"name\" label=\"属性名\" />\n      <el-table-column prop=\"inputType\" label=\"属性录入方式\" >\n        <template slot-scope=\"scope\">\n          {{ scope.row.inputType === 0 ? '手动录入' : '选择' }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"selectList\" label=\"可选值列表\" />\n      <el-table-column prop=\"createTime\" label=\"创建时间\" />\n      <el-table-column prop=\"updateTime\" label=\"更新时间\" />\n\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <router-link :to=\"'/product/attr/edit/'+scope.row.id\">\n            <el-button type=\"text\" size=\"mini\">修改</el-button>\n          </router-link>\n          <el-button type=\"text\" size=\"mini\" @click=\"removeDataById(scope.row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n  </div>\n</template>\n\n<script>\nimport api from '@/api/product/attr'\n\nexport default {\n  data() {\n    return {\n      attrGroupId: this.$route.params.id,\n      listLoading: true, // 数据是否正在加载\n      list: null, // banner列表\n      multipleSelection: [] // 批量选择中选择的记录列表\n    }\n  },\n\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    console.log('list created......')\n    this.fetchData()\n  },\n\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    console.log('list mounted......')\n  },\n\n  methods: {\n    add(){\n      this.$router.push({ path: '/product/attr/add', query:{ attrGroupId: this.attrGroupId }})\n    },\n\n    // 加载banner列表数据\n    fetchData(page = 1) {\n      console.log('翻页。。。' + page)\n      // 异步获取远程数据（ajax）\n      this.page = page\n\n      api.getList(this.attrGroupId).then(\n        response => {\n          debugger\n          this.list = response.data\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n\n    // 根据id删除数据\n    removeDataById(id) {\n      // debugger\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        return api.removeById(id)\n      }).then((response) => {\n        this.fetchData(this.page)\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n\n    // 当表格复选框选项发生变化的时候触发\n    handleSelectionChange(selection) {\n      console.log('handleSelectionChange......')\n      console.log(selection)\n      this.multipleSelection = selection\n    },\n\n    // 批量删除\n    removeRows() {\n      console.log('removeRows......')\n\n      if (this.multipleSelection.length === 0) {\n        this.$message({\n          type: 'warning',\n          message: '请选择要删除的记录!'\n        })\n        return\n      }\n\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => { // promise\n        // 点击确定，远程调用ajax\n        // 遍历selection，将id取出放入id列表\n        var idList = []\n        this.multipleSelection.forEach(item => {\n          idList.push(item.id)\n        // console.log(idList)\n        })\n        // 调用api\n        return api.removeRows(idList)\n      }).then((response) => {\n        this.fetchData(this.page)\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n\n    back() {\n      this.$router.push({ path: '/product/attrGroup/list' })\n    }\n  }\n}\n</script>\n\n"]}]}