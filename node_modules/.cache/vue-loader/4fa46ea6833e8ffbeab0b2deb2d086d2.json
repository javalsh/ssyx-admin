{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/skuInfo/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/product/skuInfo/form.vue","mtime":1678764902000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL3Byb2R1Y3Qvc2t1SW5mbycKaW1wb3J0IGNhdGVnb3J5QXBpIGZyb20gJ0AvYXBpL3Byb2R1Y3QvY2F0ZWdvcnknCmltcG9ydCBhdHRyR3JvdXBBcGkgZnJvbSAnQC9hcGkvcHJvZHVjdC9hdHRyR3JvdXAnCmltcG9ydCBhdHRyQXBpIGZyb20gJ0AvYXBpL3Byb2R1Y3QvYXR0cicKCmNvbnN0IGRlZmF1bHRGb3JtID0gewogIGlkOiAnJywKICBjYXRlZ29yeUlkOiAnJywKICBhdHRyR3JvdXBJZDogJycsCiAgc2t1VHlwZTogMCwKICBza3VOYW1lOiAnJywKICBwZXJMaW1pdDogMSwKICBpc05ld1BlcnNvbjogMCwKICBzb3J0OiAnJywKICBpbWdVcmw6ICcnLAogIHNrdUNvZGU6ICcnLAogIHByaWNlOiAnJywKICBtYXJrZXRQcmljZTogJycsCiAgc3RvY2s6ICcnLAogIGxvd1N0b2NrOiAnJywKICBza3VBdHRyVmFsdWVMaXN0OiBbXSwKICBza3VQb3N0ZXJMaXN0OiBbXSwKICBza3VJbWFnZXNMaXN0OiBbXQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOaOpeWPo0FQSeWcsOWdgAogICAgICBCQVNFX0FQSTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODIwMycsCgogICAgICBza3VJbmZvOiBkZWZhdWx0Rm9ybSwKICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwKCiAgICAgIGNhdGVnb3J5TGlzdDogW10sCiAgICAgIGF0dHJHcm91cExpc3Q6IFtdLAogICAgICBhdHRyTGlzdDogW10sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgZmlsZVBvc3Rlckxpc3Q6IFtdLAoKICAgICAgLy8g5Zu+54mH6aKE6KeI5Yy65Z+fdXJsCiAgICAgIGRpYWxvZ0ltYWdlVXJsOiAnJywKICAgICAgLy8g5Zu+54mH6aKE6KeI5a+56K+d5qGGCiAgICAgIGRpYWxvZ0ltYWdlVmlzaWJsZTogZmFsc2UKICAgIH0KICB9LAoKICAvLyDnm5HlkKzlmagKICB3YXRjaDogewogICAgJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGNvbnNvbGUubG9nKCfot6/nlLHlj5jljJYuLi4uLi4nKQogICAgICBjb25zb2xlLmxvZyh0bykKICAgICAgY29uc29sZS5sb2coZnJvbSkKICAgICAgdGhpcy5pbml0KCkKICAgIH0KICB9LAoKICAvLyDnlJ/lkb3lkajmnJ/mlrnms5XvvIjlnKjot6/nlLHliIfmjaLvvIznu4Tku7bkuI3lj5jnmoTmg4XlhrXkuIvkuI3kvJrooqvosIPnlKjvvIkKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2Zvcm0gY3JlYXRlZCAuLi4uLi4nKQogICAgdGhpcy5pbml0KCkKICB9LAoKICBtZXRob2RzOiB7CgogICAgLy8g6KGo5Y2V5Yid5aeL5YyWCiAgICBpbml0KCkgewogICAgICAvLyBkZWJ1Z2dlcgogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgdGhpcy5mZXRjaERhdGFCeUlkKGlkKQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWvueixoeaLk+Wxlei/kOeul+espu+8muaLt+i0neWvueixoe+8jOiAjOS4jeaYr+i1i+WAvOWvueixoeeahOW8leeUqAogICAgICAgIHRoaXMuc2t1SW5mbyA9IHsgLi4uZGVmYXVsdEZvcm0gfQogICAgICB9CgogICAgICB0aGlzLmZldGNoQ2F0ZWdvcnlMaXN0KCkKICAgICAgdGhpcy5mZXRjaEF0dHJHcm91cExpc3QoKQogICAgfSwKCiAgICBmZXRjaENhdGVnb3J5TGlzdCgpIHsKICAgICAgY2F0ZWdvcnlBcGkuZmluZEFsbExpc3QoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3J5TGlzdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgZmV0Y2hBdHRyR3JvdXBMaXN0KCkgewogICAgICBhdHRyR3JvdXBBcGkuZmluZEFsbExpc3QoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmF0dHJHcm91cExpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGZldGNoQXR0ckxpc3QoYXR0ckdyb3VwSWQpIHsKICAgICAgYXR0ckFwaS5nZXRMaXN0KGF0dHJHcm91cElkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmF0dHJMaXN0ID0gcmVzcG9uc2UuZGF0YQoKICAgICAgICAvLyDkv67mlLnlsZ7mgKflm57mmL4KICAgICAgICBkZWJ1Z2dlcgogICAgICAgIGlmICh0aGlzLnNrdUluZm8uc2t1QXR0clZhbHVlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmF0dHJMaXN0LmZvckVhY2goYXR0ckl0ZW0gPT4gewogICAgICAgICAgICB0aGlzLnNrdUluZm8uc2t1QXR0clZhbHVlTGlzdC5mb3JFYWNoKHZhbHVlSXRlbSA9PiB7CiAgICAgICAgICAgICAgaWYgKGF0dHJJdGVtLmlkID09PSB2YWx1ZUl0ZW0uYXR0cklkKSB7CiAgICAgICAgICAgICAgICBhdHRySXRlbS52YWx1ZSA9IHZhbHVlSXRlbS5hdHRyVmFsdWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgZ2V0UGFyYW1TZWxlY3RMaXN0KHNlbGVjdExpc3QpIHsKICAgICAgcmV0dXJuIHNlbGVjdExpc3Quc3BsaXQoJywnKQogICAgfSwKCiAgICBzZWxlY3RBdHRyQ2hhbmdlKGF0dHJHcm91cElkKSB7CiAgICAgIHRoaXMuZmV0Y2hBdHRyTGlzdChhdHRyR3JvdXBJZCkKICAgIH0sCgogICAgc2F2ZU9yVXBkYXRlKCkgewogICAgICAvLyB0aGlzLnNhdmVCdG5EaXNhYmxlZCA9IHRydWUgLy8g6Ziy5q2i6KGo5Y2V6YeN5aSN5o+Q5LqkCiAgICAgIGlmICghdGhpcy5za3VJbmZvLmlkKSB7CiAgICAgICAgdGhpcy5zYXZlRGF0YSgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhKCkKICAgICAgfQogICAgfSwKCiAgICAvLyDmlrDlop4KICAgIHNhdmVEYXRhKCkgewogICAgICBjb25zdCBhdHRyTGlzdEFycmF5ID0gW10KICAgICAgdGhpcy5hdHRyTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGF0dHJMaXN0QXJyYXkucHVzaCh7CiAgICAgICAgICBhdHRySWQ6IGl0ZW0uaWQsCiAgICAgICAgICBhdHRyTmFtZSA6IGl0ZW0ubmFtZSwKICAgICAgICAgIGF0dHJWYWx1ZSA6IGl0ZW0udmFsdWUKICAgICAgICB9KQogICAgICB9KQogICAgICB0aGlzLnNrdUluZm8uc2t1QXR0clZhbHVlTGlzdCA9IGF0dHJMaXN0QXJyYXkKICAgICAgaWYgKHRoaXMuc2t1SW5mby5za3VJbWFnZXNMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnNrdUluZm8uaW1nVXJsID0gdGhpcy5za3VJbmZvLnNrdUltYWdlc0xpc3RbMF0uaW1nVXJsCiAgICAgIH0KICAgICAgYXBpLnNhdmUodGhpcy5za3VJbmZvKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9wcm9kdWN0L3NrdUluZm8vbGlzdCcgfSkKICAgICAgICAgIHRoaXMuc2F2ZUJ0bkRpc2FibGVkID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOagueaNrmlk5pu05paw6K6w5b2VCiAgICB1cGRhdGVEYXRhKCkgewogICAgICBkZWJ1Z2dlcgogICAgICBjb25zdCBhdHRyTGlzdEFycmF5ID0gW10KICAgICAgdGhpcy5hdHRyTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGF0dHJMaXN0QXJyYXkucHVzaCh7CiAgICAgICAgICBhdHRySWQ6IGl0ZW0uaWQsCiAgICAgICAgICBhdHRyTmFtZSA6IGl0ZW0ubmFtZSwKICAgICAgICAgIGF0dHJWYWx1ZSA6IGl0ZW0udmFsdWUKICAgICAgICB9KQogICAgICB9KQogICAgICB0aGlzLnNrdUluZm8uc2t1QXR0clZhbHVlTGlzdCA9IGF0dHJMaXN0QXJyYXkKICAgICAgaWYgKHRoaXMuc2t1SW5mby5za3VJbWFnZXNMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnNrdUluZm8uaW1nVXJsID0gdGhpcy5za3VJbmZvLnNrdUltYWdlc0xpc3RbMF0uaW1nVXJsCiAgICAgIH0KICAgICAgYXBpLnVwZGF0ZUJ5SWQodGhpcy5za3VJbmZvKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9wcm9kdWN0L3NrdUluZm8vbGlzdCcgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9wcm9kdWN0L3NrdUluZm8vbGlzdCcgfSkKICAgIH0sCgogICAgLy8g5qC55o2uaWTmn6Xor6LorrDlvZUKICAgIGZldGNoRGF0YUJ5SWQoaWQpIHsKICAgICAgYXBpLmdldEJ5SWQoaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGRlYnVnZ2VyCiAgICAgICAgdGhpcy5za3VJbmZvID0gcmVzcG9uc2UuZGF0YQoKICAgICAgICAvLyDlubPlj7DlsZ7mgKflm57mmL4KICAgICAgICB0aGlzLmZldGNoQXR0ckxpc3QodGhpcy5za3VJbmZvLmF0dHJHcm91cElkKQoKICAgICAgICAvLyDlm77niYflm57mmL4KICAgICAgICB0aGlzLnNrdUluZm8uc2t1SW1hZ2VzTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgbGV0IG9iaiA9IG5ldyBPYmplY3QoKQogICAgICAgICAgb2JqLnVybCA9IGl0ZW0uaW1nVXJsCiAgICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2gob2JqKQogICAgICAgIH0pCgogICAgICAgIHRoaXMuc2t1SW5mby5za3VQb3N0ZXJMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBsZXQgb2JqID0gbmV3IE9iamVjdCgpCiAgICAgICAgICBvYmoudXJsID0gaXRlbS5pbWdVcmwKICAgICAgICAgIHRoaXMuZmlsZVBvc3Rlckxpc3QucHVzaChvYmopCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCgogICAgLy8g5paH5Lu25LiK5Lyg6ZmQ5Yi25p2h5Lu2CiAgICBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICBjb25zdCBpc0pQRyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnCiAgICAgIGNvbnN0IGlzUE5HID0gZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJwogICAgICBjb25zdCBpc0dJRiA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2dpZicKICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyCgogICAgICBpZiAoIWlzSlBHICYmICFpc1BORyAmJiAhaXNHSUYpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflj6rog73mmK8gSlBH44CBUE5HIOaIliBHSUYg5qC85byPIScpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgcmV0dXJuIHRydWUKICAgIH0sCgogICAgLy8g5LiK5Lyg5Zu+54mH5oiQ5Yqf55qE5Zue6LCDCiAgICBvblVwbG9hZFN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIC8vIOWhq+WFheS4iuS8oOaWh+S7tuWIl+ihqAogICAgICB0aGlzLnNrdUluZm8uc2t1SW1hZ2VzTGlzdC5wdXNoKHsKICAgICAgICBpbWdOYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgaW1nVXJsOiBmaWxlLnJlc3BvbnNlLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgLy8g5LiK5Lyg55qE5paH5Lu26aKE6KeICiAgICBvblVwbG9hZFByZXZpZXcoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmwKICAgICAgdGhpcy5kaWFsb2dJbWFnZVZpc2libGUgPSB0cnVlCiAgICB9LAoKICAgIC8vIOWIoOmZpOS4iuS8oOeahOaWh+S7tgogICAgb25VcGxvYWRSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdmFyIGxpc3QgPSBbXQogICAgICB0aGlzLnNrdUluZm8uc2t1SW1hZ2VzTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGlmKGZpbGUudXJsICE9IGl0ZW0uaW1nVXJsKSB7CiAgICAgICAgICBsaXN0LnB1c2goaXRlbSkKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMuc2t1SW5mby5za3VJbWFnZXNMaXN0ID0gbGlzdAogICAgfSwKCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyDkuIrkvKDlm77niYfmiJDlip/nmoTlm57osIMKICAgIG9uVXBsb2FkUG9zdGVyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgZGVidWdnZXIKICAgICAgLy8g5aGr5YWF5LiK5Lyg5paH5Lu25YiX6KGoCiAgICAgIHRoaXMuc2t1SW5mby5za3VQb3N0ZXJMaXN0LnB1c2goewogICAgICAgIGltZ05hbWU6IGZpbGUubmFtZSwKICAgICAgICBpbWdVcmw6IGZpbGUucmVzcG9uc2UuZGF0YQogICAgICB9KQogICAgfSwKCiAgICAvLyDliKDpmaTkuIrkvKDnmoTmlofku7YKICAgIG9uVXBsb2FkUG9zdGVyUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBsaXN0ID0gW10KICAgICAgdGhpcy5za3VJbmZvLnNrdVBvc3Rlckxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZihmaWxlLnVybCAhPSBpdGVtLmltZ1VybCkgewogICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pCiAgICAgICAgfQogICAgICB9KQogICAgICB0aGlzLnNrdUluZm8uc2t1UG9zdGVyTGlzdCA9IGxpc3QKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"form.vue","sourceRoot":"src/views/product/skuInfo","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form label-width=\"120px\" size=\"small\">\n\n      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>基本信息</h3></div>\n      <el-form-item label=\"sku名称\">\n        <el-input v-model=\"skuInfo.skuName\" />\n      </el-form-item>\n      <el-form-item label=\"商品分类\" prop=\"tmId\">\n        <el-select v-model=\"skuInfo.categoryId\" placeholder=\"请选择\" >\n          <el-option\n            v-for=\"category in categoryList\"\n            :key=\"category.id\"\n            :label=\"category.name\"\n            :value=\"category.id\"/>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"SKU编号：\">\n        <el-input v-model=\"skuInfo.skuCode\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品售价：\">\n        <el-input v-model=\"skuInfo.price\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"市场价：\">\n        <el-input v-model=\"skuInfo.marketPrice\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"是否新人专享:\">\n        <el-radio-group v-model=\"skuInfo.isNewPerson\">\n          <el-radio :label=\"0\">否</el-radio>\n          <el-radio :label=\"1\">是</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"排序\">\n        <el-input v-model=\"skuInfo.sort\" ></el-input>\n      </el-form-item>\n\n      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>平台属性</h3></div>\n      <el-form-item label=\"属性分组\" prop=\"tmId\">\n        <el-select v-model=\"skuInfo.attrGroupId\" placeholder=\"请选择\"  @change=\"selectAttrChange\">\n          <el-option\n            v-for=\"attrGroup in attrGroupList\"\n            :key=\"attrGroup.id\"\n            :label=\"attrGroup.name\"\n            :value=\"attrGroup.id\"/>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"平台属性：\">\n        <el-card shadow=\"never\" class=\"cardBg\">\n          <div :key=\"item.id\" v-for=\"(item,index) in attrList\" :class=\"{littleMarginTop:index!==0}\">\n            <div class=\"paramInputLabel\">{{item.name}}:</div>\n            <el-select v-if=\"item.inputType===1\" class=\"paramInput\" v-model=\"attrList[index].value\" style=\"width: 300px\">\n              <el-option\n                v-for=\"item in getParamSelectList(item.selectList)\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\">\n              </el-option>\n            </el-select>\n            <el-input v-else class=\"paramInput\" v-model=\"attrList[index].value\" style=\"width: 300px\"></el-input>\n          </div>\n        </el-card>\n      </el-form-item>\n\n      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>商品图片</h3></div>\n      <el-form-item label=\"图片上传\" >\n        <el-upload\n          :on-success=\"onUploadSuccess\"\n          :before-upload=\"beforeUpload\"\n          :on-preview=\"onUploadPreview\"\n          :on-remove=\"onUploadRemove\"\n          :multiple=\"true\"\n          :action=\"BASE_API+'/admin/product/fileUpload'\"\n          class=\"upload-demo\"\n          list-type=\"picture-card\"\n          :file-list=\"fileList\">\n          <i class=\"el-icon-plus\"/>\n          <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/gif文件，且不超过2MB</div>\n        </el-upload>\n      </el-form-item>\n\n      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>商品库存</h3></div>\n      <el-form-item label=\"商品库存：\">\n        <el-input v-model=\"skuInfo.stock\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品预警库存：\">\n        <el-input v-model=\"skuInfo.lowStock\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"限购个数：\">\n        <el-input v-model=\"skuInfo.perLimit\" ></el-input>\n      </el-form-item>\n\n<!--      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>商品详情</h3></div>-->\n<!--      <el-form-item label=\"商品详情\">-->\n<!--        <el-input v-model=\"skuInfo.skuDetail.detailHtml\" type=\"textarea\" :rows=\"10\"></el-input>-->\n<!--      </el-form-item>-->\n      <div style=\"background-color:#E0E0E0;width: 100%;padding: 0 10px;margin: 10px 0;\"><h3>商品海报</h3></div>\n      <el-form-item label=\"上传海报\" >\n        <el-upload\n          :on-success=\"onUploadPosterSuccess\"\n          :before-upload=\"beforeUpload\"\n          :on-preview=\"onUploadPreview\"\n          :on-remove=\"onUploadPosterRemove\"\n          :multiple=\"true\"\n          :action=\"BASE_API+'/admin/product/fileUpload'\"\n          class=\"upload-demo\"\n          list-type=\"picture-card\"\n          :file-list=\"filePosterList\">\n          <i class=\"el-icon-plus\"/>\n          <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/gif文件，且不超过2MB</div>\n        </el-upload>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"saveOrUpdate\">保存</el-button>\n        <el-button @click=\"back\">返回</el-button>\n      </el-form-item>\n    </el-form>\n\n    <!--图片预览-->\n    <el-dialog :visible.sync=\"dialogImageVisible\">\n      <img :src=\"dialogImageUrl\" width=\"100%\" alt=\"\">\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\nimport api from '@/api/product/skuInfo'\nimport categoryApi from '@/api/product/category'\nimport attrGroupApi from '@/api/product/attrGroup'\nimport attrApi from '@/api/product/attr'\n\nconst defaultForm = {\n  id: '',\n  categoryId: '',\n  attrGroupId: '',\n  skuType: 0,\n  skuName: '',\n  perLimit: 1,\n  isNewPerson: 0,\n  sort: '',\n  imgUrl: '',\n  skuCode: '',\n  price: '',\n  marketPrice: '',\n  stock: '',\n  lowStock: '',\n  skuAttrValueList: [],\n  skuPosterList: [],\n  skuImagesList: []\n}\n\nexport default {\n  data() {\n    return {\n      // 接口API地址\n      BASE_API: 'http://localhost:8203',\n\n      skuInfo: defaultForm,\n      saveBtnDisabled: false,\n\n      categoryList: [],\n      attrGroupList: [],\n      attrList: [],\n      fileList: [],\n      filePosterList: [],\n\n      // 图片预览区域url\n      dialogImageUrl: '',\n      // 图片预览对话框\n      dialogImageVisible: false\n    }\n  },\n\n  // 监听器\n  watch: {\n    $route(to, from) {\n      console.log('路由变化......')\n      console.log(to)\n      console.log(from)\n      this.init()\n    }\n  },\n\n  // 生命周期方法（在路由切换，组件不变的情况下不会被调用）\n  created() {\n    console.log('form created ......')\n    this.init()\n  },\n\n  methods: {\n\n    // 表单初始化\n    init() {\n      // debugger\n      if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id\n        this.fetchDataById(id)\n      } else {\n        // 对象拓展运算符：拷贝对象，而不是赋值对象的引用\n        this.skuInfo = { ...defaultForm }\n      }\n\n      this.fetchCategoryList()\n      this.fetchAttrGroupList()\n    },\n\n    fetchCategoryList() {\n      categoryApi.findAllList().then(response => {\n        this.categoryList = response.data\n      })\n    },\n\n    fetchAttrGroupList() {\n      attrGroupApi.findAllList().then(response => {\n        this.attrGroupList = response.data\n      })\n    },\n\n    fetchAttrList(attrGroupId) {\n      attrApi.getList(attrGroupId).then(response => {\n        this.attrList = response.data\n\n        // 修改属性回显\n        debugger\n        if (this.skuInfo.skuAttrValueList.length > 0) {\n          this.attrList.forEach(attrItem => {\n            this.skuInfo.skuAttrValueList.forEach(valueItem => {\n              if (attrItem.id === valueItem.attrId) {\n                attrItem.value = valueItem.attrValue\n              }\n            })\n          })\n        }\n      })\n    },\n\n    getParamSelectList(selectList) {\n      return selectList.split(',')\n    },\n\n    selectAttrChange(attrGroupId) {\n      this.fetchAttrList(attrGroupId)\n    },\n\n    saveOrUpdate() {\n      // this.saveBtnDisabled = true // 防止表单重复提交\n      if (!this.skuInfo.id) {\n        this.saveData()\n      } else {\n        this.updateData()\n      }\n    },\n\n    // 新增\n    saveData() {\n      const attrListArray = []\n      this.attrList.forEach(item => {\n        attrListArray.push({\n          attrId: item.id,\n          attrName : item.name,\n          attrValue : item.value\n        })\n      })\n      this.skuInfo.skuAttrValueList = attrListArray\n      if (this.skuInfo.skuImagesList.length > 0) {\n        this.skuInfo.imgUrl = this.skuInfo.skuImagesList[0].imgUrl\n      }\n      api.save(this.skuInfo).then(response => {\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.$router.push({ path: '/product/skuInfo/list' })\n          this.saveBtnDisabled = false\n        }\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      debugger\n      const attrListArray = []\n      this.attrList.forEach(item => {\n        attrListArray.push({\n          attrId: item.id,\n          attrName : item.name,\n          attrValue : item.value\n        })\n      })\n      this.skuInfo.skuAttrValueList = attrListArray\n      if (this.skuInfo.skuImagesList.length > 0) {\n        this.skuInfo.imgUrl = this.skuInfo.skuImagesList[0].imgUrl\n      }\n      api.updateById(this.skuInfo).then(response => {\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.$router.push({ path: '/product/skuInfo/list' })\n        }\n      })\n    },\n\n    back() {\n      this.$router.push({ path: '/product/skuInfo/list' })\n    },\n\n    // 根据id查询记录\n    fetchDataById(id) {\n      api.getById(id).then(response => {\n        debugger\n        this.skuInfo = response.data\n\n        // 平台属性回显\n        this.fetchAttrList(this.skuInfo.attrGroupId)\n\n        // 图片回显\n        this.skuInfo.skuImagesList.forEach(item => {\n          let obj = new Object()\n          obj.url = item.imgUrl\n          this.fileList.push(obj)\n        })\n\n        this.skuInfo.skuPosterList.forEach(item => {\n          let obj = new Object()\n          obj.url = item.imgUrl\n          this.filePosterList.push(obj)\n        })\n      })\n    },\n\n    // 文件上传限制条件\n    beforeUpload(file) {\n      const isJPG = file.type === 'image/jpeg'\n      const isPNG = file.type === 'image/png'\n      const isGIF = file.type === 'image/gif'\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isJPG && !isPNG && !isGIF) {\n        this.$message.error('上传头像图片只能是 JPG、PNG 或 GIF 格式!')\n        return false\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n        return false\n      }\n      return true\n    },\n\n    // 上传图片成功的回调\n    onUploadSuccess(res, file) {\n      // 填充上传文件列表\n      this.skuInfo.skuImagesList.push({\n        imgName: file.name,\n        imgUrl: file.response.data\n      })\n    },\n\n    // 上传的文件预览\n    onUploadPreview(file) {\n      this.dialogImageUrl = file.url\n      this.dialogImageVisible = true\n    },\n\n    // 删除上传的文件\n    onUploadRemove(file, fileList) {\n      var list = []\n      this.skuInfo.skuImagesList.forEach(item => {\n        if(file.url != item.imgUrl) {\n          list.push(item)\n        }\n      })\n      this.skuInfo.skuImagesList = list\n    },\n\n    //-----------------\n    // 上传图片成功的回调\n    onUploadPosterSuccess(res, file) {\n      debugger\n      // 填充上传文件列表\n      this.skuInfo.skuPosterList.push({\n        imgName: file.name,\n        imgUrl: file.response.data\n      })\n    },\n\n    // 删除上传的文件\n    onUploadPosterRemove(file, fileList) {\n      var list = []\n      this.skuInfo.skuPosterList.forEach(item => {\n        if(file.url != item.imgUrl) {\n          list.push(item)\n        }\n      })\n      this.skuInfo.skuPosterList = list\n    }\n\n  }\n}\n</script>\n<style scoped>\n\n  .littleMarginTop {\n    margin-top: 10px;\n  }\n\n  .paramInput {\n    width: 250px;\n  }\n\n  .paramInputLabel {\n    display: inline-block;\n    width: 100px;\n    text-align: right;\n    padding-right: 10px\n  }\n\n  .cardBg {\n    background: #F8F9FC;\n  }\n</style>\n"]}]}