{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/user/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/acl/user/list.vue","mtime":1678521056000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWNsVXNlckxpc3QnLAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwgLy8g5piv5ZCm5pi+56S65YiX6KGo5Yqg6L2955qE5o+Q56S6CiAgICAgIHNlYXJjaE9iajogeyAvLyDljIXlkKvor7fmsYLmkJzntKLmnaHku7bmlbDmja7nmoTlr7nosaEKICAgICAgICB1c2VybmFtZTogJycKICAgICAgfSwKICAgICAgdGVtcFNlYXJjaE9iajogeyAvLyDmlLbpm4bmkJzntKLmnaHku7bovpPlhaXnmoTlr7nosaEKICAgICAgICB1c2VybmFtZTogJycKICAgICAgfSwKICAgICAgc2VsZWN0ZWRJZHM6IFtdLCAvLyDmiYDmnInpgInmi6nnmoR1c2Vy55qEaWTnmoTmlbDnu4QKICAgICAgdXNlcnM6IFtdLCAvLyDlvZPliY3pobXnmoTnlKjmiLfliJfooagKICAgICAgcGFnZTogMSwgLy8g5b2T5YmN6aG156CBCiAgICAgIGxpbWl0OiA1LCAvLyDmr4/pobXmlbDph48KICAgICAgdG90YWw6IDAsIC8vIOaAu+aVsOmHjwogICAgICB1c2VyOiB7fSwgLy8g5b2T5YmN6KaB5pON5L2c55qEdXNlcgogICAgICBkaWFsb2dVc2VyVmlzaWJsZTogZmFsc2UsIC8vIOaYr+WQpuaYvuekuueUqOaIt+a3u+WKoC/kv67mlLnnmoRkaWFsb2cKICAgICAgdXNlclJ1bGVzOiB7IC8vIOeUqOaIt+a3u+WKoC/kv67mlLnooajljZXnmoTmoKHpqozop4TliJkKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+eUqOaIt+WQjeW/hemhu+i+k+WFpScgfSwKICAgICAgICAgIHsgbWluOiA0LCBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95bCP5LqONOS9jScgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVBhc3N3b3JkIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyDmmK/lkKbmraPlnKjmj5DkuqTor7fmsYLkuK0KICAgICAgZGlhbG9nUm9sZVZpc2libGU6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLrop5LoibJEaWFsb2cKICAgICAgYWxsUm9sZXM6IFtdLCAvLyDmiYDmnInop5LoibLliJfooagKICAgICAgdXNlclJvbGVJZHM6IFtdLCAvLyDnlKjmiLfnmoTop5LoibJJROeahOWIl+ihqAogICAgICBpc0luZGV0ZXJtaW5hdGU6IGZhbHNlLCAvLyDmmK/lkKbmmK/kuI3noa7lrprnmoQKICAgICAgY2hlY2tBbGw6IGZhbHNlLCAvLyDmmK/lkKblhajpgIkKICAgIH0KICB9LAoKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0VXNlcnMoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8qCiAgICDmmL7npLrmjIflrprop5LoibLnmoTnlYzpnaIKICAgICovCiAgICBzaG93QXNzaWduUm9sZSAodXNlcikgewogICAgICB0aGlzLnVzZXIgPSB1c2VyCiAgICAgIHRoaXMuZGlhbG9nUm9sZVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZ2V0Um9sZXMoKQogICAgfSwKCiAgICAvKgogICAg5YWo6YCJ5Yu+6YCJ54q25oCB5Y+R55Sf5pS55Y+Y55qE55uR5ZCsCiAgICAqLwogICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2UgKHZhbHVlKSB7Ly8gdmFsdWUg5b2T5YmN5Yu+6YCJ54q25oCBdHJ1ZS9mYWxzZQogICAgICAvLyDlpoLmnpzlvZPliY3lhajpgIksIHVzZXJSb2xlSWRz5bCx5piv5omA5pyJ6KeS6ImyaWTnmoTmlbDnu4QsIOWQpuWImeaYr+epuuaVsOe7hAogICAgICB0aGlzLnVzZXJSb2xlSWRzID0gdmFsdWUgPyB0aGlzLmFsbFJvbGVzLm1hcChpdGVtID0+IGl0ZW0uaWQpIDogW10KICAgICAgLy8g5aaC5p6c5b2T5YmN5LiN5piv5YWo6YCJ5Lmf5LiN5YWo5LiN6YCJ5pe2LCDmjIflrprkuLpmYWxzZQogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlCiAgICB9LAoKICAgIC8qCiAgICDlvILmraXojrflj5bnlKjmiLfnmoTop5LoibLliJfooagKICAgICovCiAgICBhc3luYyBnZXRSb2xlcyAoKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS51c2VyLmdldFJvbGVzKHRoaXMudXNlci5pZCkKICAgICAgY29uc3Qge2FsbFJvbGVzTGlzdCwgYXNzaWduUm9sZXN9ID0gcmVzdWx0LmRhdGEKICAgICAgdGhpcy5hbGxSb2xlcyA9IGFsbFJvbGVzTGlzdAogICAgICB0aGlzLnVzZXJSb2xlSWRzID0gYXNzaWduUm9sZXMubWFwKGl0ZW0gPT4gaXRlbS5pZCkKICAgICAgdGhpcy5jaGVja0FsbCA9IGFsbFJvbGVzTGlzdC5sZW5ndGg9PT1hc3NpZ25Sb2xlcy5sZW5ndGgKICAgICAgdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBhc3NpZ25Sb2xlcy5sZW5ndGg+MCAmJiBhc3NpZ25Sb2xlcy5sZW5ndGg8YWxsUm9sZXNMaXN0Lmxlbmd0aAogICAgfSwKCiAgICAvKgogICAg6KeS6Imy5YiX6KGo6YCJ5Lit6aG55Y+R55Sf5pS55Y+Y55qE55uR5ZCsCiAgICAqLwogICAgaGFuZGxlQ2hlY2tlZENoYW5nZSAodmFsdWUpIHsKICAgICAgY29uc3Qge3VzZXJSb2xlSWRzLCBhbGxSb2xlc30gPSB0aGlzCiAgICAgIHRoaXMuY2hlY2tBbGwgPSB1c2VyUm9sZUlkcy5sZW5ndGggPT09IGFsbFJvbGVzLmxlbmd0aCAmJiBhbGxSb2xlcy5sZW5ndGg+MAogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IHVzZXJSb2xlSWRzLmxlbmd0aD4wICYmIHVzZXJSb2xlSWRzLmxlbmd0aDxhbGxSb2xlcy5sZW5ndGgKICAgIH0sCgogICAgLyoKICAgIOivt+axgue7meeUqOaIt+i/m+ihjOinkuiJsuaOiOadgwogICAgKi8KICAgIGFzeW5jIGFzc2lnblJvbGUgKCkgewogICAgICBjb25zdCB1c2VySWQgPSB0aGlzLnVzZXIuaWQKICAgICAgY29uc3Qgcm9sZUlkcyA9IHRoaXMudXNlclJvbGVJZHMuam9pbignLCcpCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnVzZXIuYXNzaWduUm9sZXModXNlcklkLCByb2xlSWRzKQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UgfHwgJ+WIhumFjeinkuiJsuaIkOWKnycpCiAgICAgIHRoaXMucmVzZXRSb2xlRGF0YSgpCgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWUsIHRoaXMudXNlcikKICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZT09PXRoaXMudXNlci51c2VybmFtZSkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICB9CiAgICB9LAoKICAgIC8qCiAgICDph43nva7nlKjmiLfop5LoibLnmoTmlbDmja4KICAgICovCiAgICByZXNldFJvbGVEYXRhICgpIHsKICAgICAgdGhpcy5kaWFsb2dSb2xlVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMuYWxsUm9sZXMgPSBbXQogICAgICB0aGlzLnVzZXJSb2xlSWRzID0gW10KICAgICAgdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZQogICAgICB0aGlzLmNoZWNrQWxsID0gZmFsc2UKICAgIH0sCgogICAgLyoKICAgIOiHquWumuS5ieWvhueggeagoemqjAogICAgKi8KICAgIHZhbGlkYXRlUGFzc3dvcmQgKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2soJ+WvhueggeW/hemhu+i+k+WFpScpCiAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA8IDYpIHsKICAgICAgICBjYWxsYmFjaygn5a+G56CB5LiN6IO95bCP5LqONuS9jScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9LAogICAgLyoKICAgIOagueaNrui+k+WFpei/m+ihjOaQnOe0ogogICAgKi8KICAgIHNlYXJjaCAoKSB7CiAgICAgIHRoaXMuc2VhcmNoT2JqID0gey4uLnRoaXMudGVtcFNlYXJjaE9ian0KICAgICAgdGhpcy5nZXRVc2VycygpCiAgICB9LAoKICAgIC8qCiAgICDph43nva7ovpPlhaXlkI7mkJzntKIKICAgICovCiAgICByZXNldFNlYXJjaCAoKSB7CiAgICAgIHRoaXMuc2VhcmNoT2JqID0gewogICAgICAgIHVzZXJuYW1lOiAnJwogICAgICB9CiAgICAgIHRoaXMudGVtcFNlYXJjaE9iaiA9IHsKICAgICAgICB1c2VybmFtZTogJycKICAgICAgfQogICAgICB0aGlzLmdldFVzZXJzKCkKICAgIH0sCgogICAgLyoKICAgIOaYvuekuua3u+WKoOeUqOaIt+eahOeVjOmdogogICAgKi8KICAgIHNob3dBZGRVc2VyICgpIHsKICAgICAgdGhpcy51c2VyID0ge30KICAgICAgdGhpcy5kaWFsb2dVc2VyVmlzaWJsZSA9IHRydWUKCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuJHJlZnMudXNlckZvcm0uY2xlYXJWYWxpZGF0ZSgpKQogICAgfSwKCiAgICAvKgogICAg5Yig6Zmk5omA5pyJ6YCJ5Lit55qE55So5oi3CiAgICAqLwogICAgcmV2b212ZVVzZXJzICgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6Zmk5ZCXPycpLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGF3YWl0IHRoaXMuJEFQSS51c2VyLnJlbW92ZVVzZXJzKHRoaXMuc2VsZWN0ZWRJZHMpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICAgIHRoaXMuZ2V0VXNlcnMoKQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflj5bmtojliKDpmaQnKQogICAgICB9KQogICAgfSwKCiAgICAvKgogICAg5YiX6KGo6YCJ5Lit54q25oCB5Y+R55Sf5pS55Y+Y55qE55uR5ZCs5Zue6LCDCiAgICAqLwogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlIChzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZWxlY3RlZElkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQogICAgfSwKCiAgICAvKgogICAg5pi+56S65pu05paw55So5oi355qE55WM6Z2iCiAgICAqLwogICAgc2hvd1VwZGF0ZVVzZXIgKHVzZXIpIHsKICAgICAgdGhpcy51c2VyID0gY2xvbmVEZWVwKHVzZXIpCiAgICAgIHRoaXMuZGlhbG9nVXNlclZpc2libGUgPSB0cnVlCiAgICB9LAoKICAgIC8qCiAgICDliKDpmaTmn5DkuKrnlKjmiLcKICAgICovCiAgICBhc3luYyByZW1vdmVVc2VyIChpZCkgewogICAgICBhd2FpdCB0aGlzLiRBUEkudXNlci5yZW1vdmVCeUlkKGlkKQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpCiAgICAgIHRoaXMuZ2V0VXNlcnModGhpcy51c2Vycy5sZW5ndGg9PT0xID8gdGhpcy5wYWdlLTEgOiB0aGlzLnBhZ2UpCiAgICB9LAoKICAgIC8qCiAgICDojrflj5bliIbpobXliJfooagKICAgICovCiAgICBhc3luYyBnZXRVc2VycyAocGFnZT0xKSB7CiAgICAgIHRoaXMucGFnZSA9IHBhZ2UKICAgICAgY29uc3Qge2xpbWl0LCB0ZW1wU2VhcmNoT2JqfSA9IHRoaXMKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnVzZXIuZ2V0UGFnZUxpc3QocGFnZSwgbGltaXQsIHRlbXBTZWFyY2hPYmopCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICBjb25zdCB7cmVjb3JkcywgdG90YWx9ID0gcmVzdWx0LmRhdGEKICAgICAgdGhpcy51c2VycyA9IHJlY29yZHMKICAgICAgdGhpcy50b3RhbCA9IHRvdGFsLTEKICAgICAgdGhpcy5zZWxlY3RlZElkcyA9IFtdCiAgICB9LAoKICAgIC8qCiAgICDlpITnkIZwYWdlU2l6ZeWPkeeUn+aUueWPmOeahOebkeWQrOWbnuiwgwogICAgKi8KICAgIGhhbmRsZVNpemVDaGFuZ2UgKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMubGltaXQgPSBwYWdlU2l6ZQogICAgICB0aGlzLmdldFVzZXJzKCkKICAgIH0sCgogICAgLyoKICAgIOWPlua2iOeUqOaIt+eahOS/neWtmOaIluabtOaWsAogICAgKi8KICAgIGNhbmNlbCAoKSB7CiAgICAgIHRoaXMuZGlhbG9nVXNlclZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLnVzZXIgPSB7fQogICAgfSwKCiAgICAvKgogICAg5L+d5a2Y5oiW6ICF5pu05paw55So5oi3CiAgICAqLwogICAgYWRkT3JVcGRhdGUgKCkgewogICAgICB0aGlzLiRyZWZzLnVzZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNvbnN0IHt1c2VyfSA9IHRoaXMKICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgICAgIHRoaXMuJEFQSS51c2VyW3VzZXIuaWQgPyAndXBkYXRlJyA6ICdhZGQnXSh1c2VyKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8hJykKICAgICAgICAgICAgdGhpcy5nZXRVc2Vycyh1c2VyLmlkID8gdGhpcy5wYWdlIDogMSkKICAgICAgICAgICAgdGhpcy51c2VyID0ge30KICAgICAgICAgICAgdGhpcy5kaWFsb2dVc2VyVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/acl/user","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <div style=\"margin-top: 15px\">\n        <el-form :inline=\"true\" size=\"small\" label-width=\"140px\">\n          <el-form-item label=\"输入搜索：\">\n            <el-input style=\"width: 203px\" v-model=\"tempSearchObj.username\" placeholder=\"用户名\"></el-input>\n          </el-form-item>\n\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getUsers()\">查询</el-button>\n          <el-button type=\"default\" @click=\"resetSearch()\">清空</el-button>\n        </el-form>\n      </div>\n    </el-card>\n\n    <!-- 工具条 -->\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"showAddUser\">添 加</el-button>\n      <el-button class=\"btn-add\" size=\"mini\" @click=\"revomveUsers\" :disabled=\"selectedIds.length===0\" style=\"margin: 0 10px;\">批量删除</el-button>\n    </el-card>\n\n    <!-- banner列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"users\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n      @selection-change=\"handleSelectionChange\">\n\n      <el-table-column\n        type=\"selection\"\n        width=\"55\" />\n\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"80\"\n        align=\"center\"\n      />\n\n      <el-table-column prop=\"username\" label=\"用户名\" width=\"120\" />\n      <el-table-column prop=\"name\" label=\"用户名称\" width=\"120\" />\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\"/>\n      <el-table-column prop=\"updateTime\" label=\"更新时间\" width=\"180\"/>\n\n      <el-table-column label=\"操作\" width=\"220\" align=\"center\">\n<!--        <template slot-scope=\"{row}\">-->\n<!--          <HintButton type=\"info\" size=\"mini\" icon=\"el-icon-user-solid\" title=\"分配角色\"-->\n<!--            @click=\"showAssignRole(row)\" v-if=\"$hasBP('btn.User.assgin')\" />-->\n<!--          <HintButton type=\"primary\" size=\"mini\" icon=\"el-icon-edit\" title=\"修改用户\"-->\n<!--            @click=\"showUpdateUser(row)\" v-if=\"$hasBP('btn.User.update')\"/>-->\n<!--          <el-popconfirm :title=\"`确定删除 ${row.username} 吗?`\" @onConfirm=\"removeUser(row.id)\">-->\n<!--            <HintButton style=\"margin-left:10px\" slot=\"reference\" type=\"danger\" size=\"mini\" icon=\"el-icon-delete\"-->\n<!--              title=\"删除用户\" v-if=\"$hasBP('btn.User.remove')\"/>-->\n<!--          </el-popconfirm>-->\n<!--        </template>-->\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click=\"showAssignRole(scope.row)\">分配角色</el-button>\n          <el-button type=\"text\" size=\"mini\" @click=\"showUpdateUser(scope.row)\">修改</el-button>\n          <el-button type=\"text\" size=\"mini\" @click=\"removeUser(scope.row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 20px 0;\"\n      layout=\"prev, pager, next, jumper, ->, sizes, total\"\n      @current-change=\"getUsers\"\n      @size-change=\"handleSizeChange\"\n    />\n\n    <el-dialog :title=\"user.id ? '修改用户' : '添加用户'\" :visible.sync=\"dialogUserVisible\">\n      <el-form ref=\"userForm\" :model=\"user\" :rules=\"userRules\" label-width=\"120px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"user.username\"/>\n        </el-form-item>\n        <el-form-item label=\"用户名称\">\n          <el-input v-model=\"user.name\"/>\n        </el-form-item>\n\n        <el-form-item v-if=\"!user.id\" label=\"用户密码\" prop=\"password\">\n          <el-input v-model=\"user.password\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">取 消</el-button>\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"addOrUpdate\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"设置角色\" :visible.sync=\"dialogRoleVisible\" :before-close=\"resetRoleData\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"用户名\">\n          <el-input disabled :value=\"user.username\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"角色列表\">\n          <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n          <div style=\"margin: 15px 0;\"></div>\n          <el-checkbox-group v-model=\"userRoleIds\" @change=\"handleCheckedChange\">\n            <el-checkbox v-for=\"role in allRoles\" :key=\"role.id\" :label=\"role.id\">{{role.roleName}}</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\">\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"assignRole\">保存</el-button>\n        <el-button @click=\"resetRoleData\">取消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport cloneDeep from 'lodash/cloneDeep'\n\nexport default {\n  name: 'AclUserList',\n\n  data () {\n    return {\n      listLoading: false, // 是否显示列表加载的提示\n      searchObj: { // 包含请求搜索条件数据的对象\n        username: ''\n      },\n      tempSearchObj: { // 收集搜索条件输入的对象\n        username: ''\n      },\n      selectedIds: [], // 所有选择的user的id的数组\n      users: [], // 当前页的用户列表\n      page: 1, // 当前页码\n      limit: 5, // 每页数量\n      total: 0, // 总数量\n      user: {}, // 当前要操作的user\n      dialogUserVisible: false, // 是否显示用户添加/修改的dialog\n      userRules: { // 用户添加/修改表单的校验规则\n        username: [\n          { required: true, message: '用户名必须输入' },\n          { min: 4, message: '用户名不能小于4位' }\n        ],\n        password: [\n          { required: true, validator: this.validatePassword }\n        ]\n      },\n      loading: false, // 是否正在提交请求中\n      dialogRoleVisible: false, // 是否显示角色Dialog\n      allRoles: [], // 所有角色列表\n      userRoleIds: [], // 用户的角色ID的列表\n      isIndeterminate: false, // 是否是不确定的\n      checkAll: false, // 是否全选\n    }\n  },\n\n  created () {\n    this.getUsers()\n  },\n\n  methods: {\n    /*\n    显示指定角色的界面\n    */\n    showAssignRole (user) {\n      this.user = user\n      this.dialogRoleVisible = true\n      this.getRoles()\n    },\n\n    /*\n    全选勾选状态发生改变的监听\n    */\n    handleCheckAllChange (value) {// value 当前勾选状态true/false\n      // 如果当前全选, userRoleIds就是所有角色id的数组, 否则是空数组\n      this.userRoleIds = value ? this.allRoles.map(item => item.id) : []\n      // 如果当前不是全选也不全不选时, 指定为false\n      this.isIndeterminate = false\n    },\n\n    /*\n    异步获取用户的角色列表\n    */\n    async getRoles () {\n      const result = await this.$API.user.getRoles(this.user.id)\n      const {allRolesList, assignRoles} = result.data\n      this.allRoles = allRolesList\n      this.userRoleIds = assignRoles.map(item => item.id)\n      this.checkAll = allRolesList.length===assignRoles.length\n      this.isIndeterminate = assignRoles.length>0 && assignRoles.length<allRolesList.length\n    },\n\n    /*\n    角色列表选中项发生改变的监听\n    */\n    handleCheckedChange (value) {\n      const {userRoleIds, allRoles} = this\n      this.checkAll = userRoleIds.length === allRoles.length && allRoles.length>0\n      this.isIndeterminate = userRoleIds.length>0 && userRoleIds.length<allRoles.length\n    },\n\n    /*\n    请求给用户进行角色授权\n    */\n    async assignRole () {\n      const userId = this.user.id\n      const roleIds = this.userRoleIds.join(',')\n      this.loading = true\n      const result = await this.$API.user.assignRoles(userId, roleIds)\n      this.loading = false\n      this.$message.success(result.message || '分配角色成功')\n      this.resetRoleData()\n\n      // console.log(this.$store.getters.name, this.user)\n      if (this.$store.getters.name===this.user.username) {\n        window.location.reload()\n      }\n    },\n\n    /*\n    重置用户角色的数据\n    */\n    resetRoleData () {\n      this.dialogRoleVisible = false\n      this.allRoles = []\n      this.userRoleIds = []\n      this.isIndeterminate = false\n      this.checkAll = false\n    },\n\n    /*\n    自定义密码校验\n    */\n    validatePassword (rule, value, callback) {\n      if (!value) {\n        callback('密码必须输入')\n      } else if (!value || value.length < 6) {\n        callback('密码不能小于6位')\n      } else {\n        callback()\n      }\n    },\n    /*\n    根据输入进行搜索\n    */\n    search () {\n      this.searchObj = {...this.tempSearchObj}\n      this.getUsers()\n    },\n\n    /*\n    重置输入后搜索\n    */\n    resetSearch () {\n      this.searchObj = {\n        username: ''\n      }\n      this.tempSearchObj = {\n        username: ''\n      }\n      this.getUsers()\n    },\n\n    /*\n    显示添加用户的界面\n    */\n    showAddUser () {\n      this.user = {}\n      this.dialogUserVisible = true\n\n      this.$nextTick(() => this.$refs.userForm.clearValidate())\n    },\n\n    /*\n    删除所有选中的用户\n    */\n    revomveUsers () {\n      this.$confirm('确定删除吗?').then(async () => {\n        await this.$API.user.removeUsers(this.selectedIds)\n        this.$message.success('删除成功')\n        this.getUsers()\n      }).catch(() => {\n        this.$message.info('取消删除')\n      })\n    },\n\n    /*\n    列表选中状态发生改变的监听回调\n    */\n    handleSelectionChange (selection) {\n      this.selectedIds = selection.map(item => item.id)\n    },\n\n    /*\n    显示更新用户的界面\n    */\n    showUpdateUser (user) {\n      this.user = cloneDeep(user)\n      this.dialogUserVisible = true\n    },\n\n    /*\n    删除某个用户\n    */\n    async removeUser (id) {\n      await this.$API.user.removeById(id)\n      this.$message.success('删除成功')\n      this.getUsers(this.users.length===1 ? this.page-1 : this.page)\n    },\n\n    /*\n    获取分页列表\n    */\n    async getUsers (page=1) {\n      this.page = page\n      const {limit, tempSearchObj} = this\n      this.listLoading = true\n      const result = await this.$API.user.getPageList(page, limit, tempSearchObj)\n      this.listLoading = false\n      const {records, total} = result.data\n      this.users = records\n      this.total = total-1\n      this.selectedIds = []\n    },\n\n    /*\n    处理pageSize发生改变的监听回调\n    */\n    handleSizeChange (pageSize) {\n      this.limit = pageSize\n      this.getUsers()\n    },\n\n    /*\n    取消用户的保存或更新\n    */\n    cancel () {\n      this.dialogUserVisible = false\n      this.user = {}\n    },\n\n    /*\n    保存或者更新用户\n    */\n    addOrUpdate () {\n      this.$refs.userForm.validate(valid => {\n        if (valid) {\n          const {user} = this\n          this.loading = true\n          this.$API.user[user.id ? 'update' : 'add'](user).then((result) => {\n            this.loading = false\n            this.$message.success('保存成功!')\n            this.getUsers(user.id ? this.page : 1)\n            this.user = {}\n            this.dialogUserVisible = false\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}