{"remainingRequest":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/user/leader/checkList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/src/views/user/leader/checkList.vue","mtime":1678063974000},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/babel-loader/lib/index.js","mtime":1688442878961},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/cache-loader/dist/cjs.js","mtime":1688442891160},{"path":"/Users/liushaohua/Project/ssyx-web/ssyx-admin/node_modules/vue-loader/lib/index.js","mtime":1688442880248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvdXNlci9sZWFkZXInCmltcG9ydCByZWdpb25BcGkgZnJvbSAnQC9hcGkvc3lzL3JlZ2lvbicKCmNvbnN0IGRlZmF1bHRGb3JtID0gewogIGlkOiAnJywKICB1c2VySWQ6ICcxJywKICByZWdpb25JZDogJycsCiAgbmFtZTogJycsCiAgcGhvbmU6ICcnLAogIGlkTm86ICcnLAogIGlkTm9VcmwxOiAnJywKICBpZE5vVXJsMjogJycsCiAgdGFrZU5hbWU6ICcnLAogIHRha2VUeXBlOiAnMScsCiAgcHJvdmluY2U6ICcnLAogIGNpdHk6ICcnLAogIGRpc3RyaWN0OiAnJywKICBkZXRhaWxBZGRyZXNzOiAnJywKICBsb25naXR1ZGU6ICcnLAogIGxhdGl0dWRlOiAnJywKICBoYXZlU3RvcmU6ICcxJywKICBzdG9yZVBhdGg6ICdodHRwczovL2d1bGktZmlsZS0xOTA1MTMub3NzLWNuLWJlaWppbmcuYWxpeXVuY3MuY29tL2NvdmVyL2RlZmF1bHQuZ2lmJywKICB3b3JrVGltZTogJycsCiAgd29ya1N0YXR1czogJzEnLAogIGNoZWNrU3RhdHVzOiAnMCcKfQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBCQVNFX0FQSTogJy9kZXYtYXBpJywKCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLCAvLyDmlbDmja7mmK/lkKbmraPlnKjliqDovb0KICAgICAgbGlzdDogbnVsbCwgLy8gYmFubmVy5YiX6KGoCiAgICAgIHRvdGFsOiAwLCAvLyDmlbDmja7lupPkuK3nmoTmgLvorrDlvZXmlbAKICAgICAgcGFnZTogMSwgLy8g6buY6K6k6aG156CBCiAgICAgIGxpbWl0OiAxMCwgLy8g5q+P6aG16K6w5b2V5pWwCiAgICAgIHNlYXJjaE9iajoge30sIC8vIOafpeivouihqOWNleWvueixoQoKICAgICAgcHJvdmluY2VMaXN0OiBbXSwKICAgICAgY2l0eUxpc3Q6IFtdLAogICAgICBkaXN0cmljdExpc3Q6IFtdLAoKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGxlYWRlcjogZGVmYXVsdEZvcm0sCiAgICAgIHNhdmVCdG5EaXNhYmxlZDogZmFsc2UKICAgIH0KICB9LAoKICAvLyDnlJ/lkb3lkajmnJ/lh73mlbDvvJrlhoXlrZjlh4blpIflrozmr5XvvIzpobXpnaLlsJrmnKrmuLLmn5MKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2xpc3QgY3JlYXRlZC4uLi4uLicpCiAgICB0aGlzLmZldGNoRGF0YSgpCiAgICB0aGlzLmluaXRQcm92aW5jZSgpCiAgfSwKCiAgLy8g55Sf5ZG95ZGo5pyf5Ye95pWw77ya5YaF5a2Y5YeG5aSH5a6M5q+V77yM6aG16Z2i5riy5p+T5oiQ5YqfCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdsaXN0IG1vdW50ZWQuLi4uLi4nKQogIH0sCgogIG1ldGhvZHM6IHsKCiAgICAvLyDlvZPpobXnoIHlj5HnlJ/mlLnlj5jnmoTml7blgJkKICAgIGNoYW5nZVNpemUoc2l6ZSkgewogICAgICBjb25zb2xlLmxvZyhzaXplKQogICAgICB0aGlzLmxpbWl0ID0gc2l6ZQogICAgICB0aGlzLmZldGNoRGF0YSgxKQogICAgfSwKCiAgICAvLyDliqDovb1iYW5uZXLliJfooajmlbDmja4KICAgIGZldGNoRGF0YShwYWdlID0gMSkgewogICAgICBjb25zb2xlLmxvZygn57+76aG144CC44CC44CCJyArIHBhZ2UpCiAgICAgIC8vIOW8guatpeiOt+WPlui/nOeoi+aVsOaNru+8iGFqYXjvvIkKICAgICAgdGhpcy5wYWdlID0gcGFnZQogICAgICBhcGkuZ2V0UGFnZUNoZWNrTGlzdCh0aGlzLnBhZ2UsIHRoaXMubGltaXQsIHRoaXMuc2VhcmNoT2JqKS50aGVuKAogICAgICAgIHJlc3BvbnNlID0+IHsKICAgICAgICAgIGRlYnVnZ2VyCiAgICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHMKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsCgogICAgICAgICAgLy8g5pWw5o2u5Yqg6L295bm257uR5a6a5oiQ5YqfCiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9CiAgICAgICkKICAgIH0sCgogICAgY2hlY2soaWQsIHN0YXR1cykgewogICAgICBhcGkuY2hlY2soaWQsIHN0YXR1cykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfIScKICAgICAgICB9KQogICAgICAgIHRoaXMuZmV0Y2hEYXRhKCkKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIOmHjee9ruafpeivouihqOWNlQogICAgcmVzZXREYXRhKCkgewogICAgICBjb25zb2xlLmxvZygn6YeN572u5p+l6K+i6KGo5Y2VJykKICAgICAgdGhpcy5zZWFyY2hPYmogPSB7fQogICAgICB0aGlzLmZldGNoRGF0YSgpCiAgICB9LAoKICAgIC8vIC0tLS0tLS0tLS0tLS0KICAgIGFkZCgpewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMubGVhZGVyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZvcm0pCiAgICB9LAoKICAgIGVkaXQoaWQpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLmZldGNoRGF0YUJ5SWQoaWQpCiAgICB9LAoKICAgIGZldGNoRGF0YUJ5SWQoaWQpIHsKICAgICAgYXBpLmdldEJ5SWQoaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubGVhZGVyID0gcmVzcG9uc2UuZGF0YQogICAgICB9KQogICAgfSwKCiAgICBzYXZlT3JVcGRhdGUoKSB7CiAgICAgIHRoaXMuc2F2ZUJ0bkRpc2FibGVkID0gdHJ1ZSAvLyDpmLLmraLooajljZXph43lpI3mj5DkuqQKICAgICAgaWYgKCF0aGlzLmxlYWRlci5pZCkgewogICAgICAgIHRoaXMuc2F2ZURhdGEoKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXBkYXRlRGF0YSgpCiAgICAgIH0KICAgIH0sCgogICAgLy8g5paw5aKeCiAgICBzYXZlRGF0YSgpIHsKICAgICAgYXBpLnNhdmUodGhpcy5sZWFkZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKHRoaXMucGFnZSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOagueaNrmlk5pu05paw6K6w5b2VCiAgICB1cGRhdGVEYXRhKCkgewogICAgICBhcGkudXBkYXRlQnlJZCh0aGlzLmxlYWRlcikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgdGhpcy5mZXRjaERhdGEodGhpcy5wYWdlKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgLy8g5qC55o2uaWTmn6Xor6LorrDlvZUKICAgIGZldGNoRGF0YUJ5SWQoaWQpIHsKICAgICAgYXBpLmdldEJ5SWQoaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubGVhZGVyID0gcmVzcG9uc2UuZGF0YQogICAgICB9KQogICAgfSwKCiAgICBpbml0UHJvdmluY2UoKSB7CiAgICAgIHJlZ2lvbkFwaS5maW5kQnlQYXJlbnRJZCg4NikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wcm92aW5jZUxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIHByb3ZpbmNlQ2hhbmdlZChpZCkgewogICAgICByZWdpb25BcGkuZmluZEJ5UGFyZW50SWQoaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuY2l0eUxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGNpdHlDaGFuZ2VkKGlkKSB7CiAgICAgIHJlZ2lvbkFwaS5maW5kQnlQYXJlbnRJZChpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5kaXN0cmljdExpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgdGhpcy5sZWFkZXIuc3RvcmVQYXRoID0gcmVzcG9uc2UuZGF0YQogICAgfSwKCiAgICAvLyDkuIrkvKDkuYvliY3nmoTlm57osIMKICAgIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIGNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZycKICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyCgogICAgICBpZiAoIWlzSlBHKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5bCB6Z2i5Zu+54mH5Y+q6IO95pivIEpQRyDmoLzlvI8hJykKICAgICAgfQogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWwgemdouWbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyTUIhJykKICAgICAgfQogICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["checkList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"checkList.vue","sourceRoot":"src/views/user/leader","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 工具条 -->\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <el-form :inline=\"true\">\n        <el-form-item label=\"输入搜索：\">\n          <el-input style=\"width: 203px\" v-model=\"searchObj.keyword\" placeholder=\"关键字\"></el-input>\n        </el-form-item>\n\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"fetchData()\">查询</el-button>\n        <el-button type=\"default\" @click=\"resetData()\">清空</el-button>\n        <el-button class=\"btn-add\" size=\"mini\" @click=\"add\">添 加</el-button>\n      </el-form>\n    </el-card>\n\n    <!-- banner列表 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      stripe\n      border\n      style=\"width: 100%;margin-top: 10px;\">\n\n      <el-table-column\n        label=\"序号\"\n        width=\"70\"\n        align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ (page - 1) * limit + scope.$index + 1 }}\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"name\" label=\"姓名\" width=\"100px\"/>\n      <el-table-column prop=\"phone\" label=\"手机号码\" width=\"100px\"/>\n      <el-table-column prop=\"takeName\" label=\"提货点名称\" />\n      <el-table-column prop=\"param.provinceName\" label=\"省\" width=\"70px\"/>\n      <el-table-column prop=\"param.cityName\" label=\"城市\" width=\"70px\"/>\n      <el-table-column prop=\"param.districtName\" label=\"区/县\" width=\"70px\"/>\n      <el-table-column prop=\"createTime\" label=\"申请时间\" width=\"155px\"/>\n\n      <el-table-column label=\"操作\" width=\"150\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\"  @click=\"check(scope.row.id, 1)\" :disabled=\"$hasBP('btn.all')  === false\">审核通过</el-button>\n          <el-button type=\"text\" size=\"mini\"  @click=\"check(scope.row.id, 0)\" :disabled=\"$hasBP('btn.all')  === false\">审核不通过</el-button>\n          <el-button type=\"text\" size=\"mini\" @click=\"edit(scope.row.id)\">修改</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页组件 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[5, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 30px 0; text-align: center;\"\n      layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\n      @current-change=\"fetchData\"\n      @size-change=\"changeSize\"\n    />\n\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"60%\" >\n      <el-form ref=\"flashPromotionForm\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\n        <el-form-item label=\"团长名称\">\n          <el-input v-model=\"leader.name\"/>\n        </el-form-item>\n        <el-form-item label=\"手机号码\">\n          <el-input v-model=\"leader.phone\"/>\n        </el-form-item>\n        <el-form-item label=\"身份证\">\n          <el-input v-model=\"leader.idNo\"/>\n        </el-form-item>\n        <el-form-item label=\"提货点名称\">\n          <el-input v-model=\"leader.takeName\"/>\n        </el-form-item>\n        <el-form-item label=\"选择地址\">\n          <el-select\n            v-model=\"leader.province\"\n            placeholder=\"请选择省\"\n            @change=\"provinceChanged\">\n            <el-option\n              v-for=\"item in provinceList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"/>\n          </el-select>\n          <el-select\n            v-model=\"leader.city\"\n            placeholder=\"请选择市\"\n            @change=\"cityChanged\" style=\"margin-left: 10px;\">\n            <el-option\n              v-for=\"item in cityList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"/>\n          </el-select>\n          <el-select\n            v-model=\"leader.district\"\n            placeholder=\"请选择区\" style=\"margin-left: 10px;\">\n            <el-option\n              v-for=\"item in districtList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"/>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"详细地址\">\n          <el-input v-model=\"leader.detailAddress\"/>\n        </el-form-item>\n        <el-form-item label=\"经度\">\n          <el-input v-model=\"leader.longitude\"/>\n        </el-form-item>\n        <el-form-item label=\"纬度\">\n          <el-input v-model=\"leader.latitude\"/>\n        </el-form-item>\n        <el-form-item label=\"门店照片\">\n          <el-upload\n            :show-file-list=\"false\"\n            :on-success=\"handleSuccess\"\n            :before-upload=\"beforeUpload\"\n            :action=\"BASE_API+'/admin/sys/file/fileUpload'\"\n            class=\"avatar-uploader\">\n            <img :src=\"leader.storePath\" width=\"150px\">\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"营业时间\">\n          <el-input v-model=\"leader.workTime\"/>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" size=\"small\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport api from '@/api/user/leader'\nimport regionApi from '@/api/sys/region'\n\nconst defaultForm = {\n  id: '',\n  userId: '1',\n  regionId: '',\n  name: '',\n  phone: '',\n  idNo: '',\n  idNoUrl1: '',\n  idNoUrl2: '',\n  takeName: '',\n  takeType: '1',\n  province: '',\n  city: '',\n  district: '',\n  detailAddress: '',\n  longitude: '',\n  latitude: '',\n  haveStore: '1',\n  storePath: 'https://guli-file-190513.oss-cn-beijing.aliyuncs.com/cover/default.gif',\n  workTime: '',\n  workStatus: '1',\n  checkStatus: '0'\n}\n\nexport default {\n  data() {\n    return {\n      BASE_API: '/dev-api',\n\n      listLoading: true, // 数据是否正在加载\n      list: null, // banner列表\n      total: 0, // 数据库中的总记录数\n      page: 1, // 默认页码\n      limit: 10, // 每页记录数\n      searchObj: {}, // 查询表单对象\n\n      provinceList: [],\n      cityList: [],\n      districtList: [],\n\n      dialogVisible: false,\n      leader: defaultForm,\n      saveBtnDisabled: false\n    }\n  },\n\n  // 生命周期函数：内存准备完毕，页面尚未渲染\n  created() {\n    console.log('list created......')\n    this.fetchData()\n    this.initProvince()\n  },\n\n  // 生命周期函数：内存准备完毕，页面渲染成功\n  mounted() {\n    console.log('list mounted......')\n  },\n\n  methods: {\n\n    // 当页码发生改变的时候\n    changeSize(size) {\n      console.log(size)\n      this.limit = size\n      this.fetchData(1)\n    },\n\n    // 加载banner列表数据\n    fetchData(page = 1) {\n      console.log('翻页。。。' + page)\n      // 异步获取远程数据（ajax）\n      this.page = page\n      api.getPageCheckList(this.page, this.limit, this.searchObj).then(\n        response => {\n          debugger\n          this.list = response.data.records\n          this.total = response.data.total\n\n          // 数据加载并绑定成功\n          this.listLoading = false\n        }\n      )\n    },\n\n    check(id, status) {\n      api.check(id, status).then(response => {\n        this.$message({\n          type: 'success',\n          message: '操作成功!'\n        })\n        this.fetchData()\n      });\n    },\n\n    // 重置查询表单\n    resetData() {\n      console.log('重置查询表单')\n      this.searchObj = {}\n      this.fetchData()\n    },\n\n    // -------------\n    add(){\n      this.dialogVisible = true\n      this.leader = Object.assign({}, defaultForm)\n    },\n\n    edit(id) {\n      this.dialogVisible = true\n      this.fetchDataById(id)\n    },\n\n    fetchDataById(id) {\n      api.getById(id).then(response => {\n        this.leader = response.data\n      })\n    },\n\n    saveOrUpdate() {\n      this.saveBtnDisabled = true // 防止表单重复提交\n      if (!this.leader.id) {\n        this.saveData()\n      } else {\n        this.updateData()\n      }\n    },\n\n    // 新增\n    saveData() {\n      api.save(this.leader).then(response => {\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.dialogVisible = false\n          this.fetchData(this.page)\n        }\n      })\n    },\n\n    // 根据id更新记录\n    updateData() {\n      api.updateById(this.leader).then(response => {\n        if (response.code) {\n          this.$message({\n            type: 'success',\n            message: response.message\n          })\n          this.dialogVisible = false\n          this.fetchData(this.page)\n        }\n      })\n    },\n\n    // 根据id查询记录\n    fetchDataById(id) {\n      api.getById(id).then(response => {\n        this.leader = response.data\n      })\n    },\n\n    initProvince() {\n      regionApi.findByParentId(86).then(response => {\n        this.provinceList = response.data\n      })\n    },\n\n    provinceChanged(id) {\n      regionApi.findByParentId(id).then(response => {\n        this.cityList = response.data\n      })\n    },\n\n    cityChanged(id) {\n      regionApi.findByParentId(id).then(response => {\n        this.districtList = response.data\n      })\n    },\n\n    handleSuccess(response) {\n      this.leader.storePath = response.data\n    },\n\n    // 上传之前的回调\n    beforeUpload(file) {\n      const isJPG = file.type === 'image/jpeg'\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isJPG) {\n        this.$message.error('上传封面图片只能是 JPG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传封面图片大小不能超过 2MB!')\n      }\n      return isJPG && isLt2M\n    }\n  }\n}\n</script>\n\n"]}]}