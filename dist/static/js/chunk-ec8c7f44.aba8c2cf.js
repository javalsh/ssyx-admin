(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec8c7f44"],{4790:function(e,t,a){"use strict";a("99af");var i=a("b775"),l="/admin/user/leader";t["a"]={getPageCheckList:function(e,t){return Object(i["a"])({url:"".concat(l,"/checkList/").concat(e,"/").concat(t),method:"get"})},getPageList:function(e,t){return Object(i["a"])({url:"".concat(l,"/list/").concat(e,"/").concat(t),method:"get"})},getById:function(e){return Object(i["a"])({url:"".concat(l,"/get/").concat(e),method:"get"})},save:function(e){return Object(i["a"])({url:"".concat(l,"/save"),method:"post",data:e})},updateById:function(e){return Object(i["a"])({url:"".concat(l,"/update"),method:"put",data:e})},removeById:function(e){return Object(i["a"])({url:"".concat(l,"/remove/").concat(e),method:"delete"})},removeRows:function(e){return Object(i["a"])({url:"".concat(l,"/batchRemove"),method:"delete",data:e})},check:function(e,t){return Object(i["a"])({url:"".concat(l,"/check/").concat(e,"/").concat(t),method:"post"})}}},"77ce":function(e,t,a){"use strict";var i=a("b775"),l="/admin/sys/region";t["a"]={findRegionByKeyword:function(e){return Object(i["a"])({url:"".concat(l,"/findRegionByKeyword/").concat(e),method:"get"})},findByParentId:function(e){return Object(i["a"])({url:"".concat(l,"/findByParentId/").concat(e),method:"get"})}}},"9daf":function(e,t,a){"use strict";a.r(t);var i,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"输入搜索："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"关键字"},model:{value:e.searchObj.keyword,callback:function(t){e.$set(e.searchObj,"keyword",t)},expression:"searchObj.keyword"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchData()}}},[e._v("查询")]),a("el-button",{attrs:{type:"default"},on:{click:function(t){return e.resetData()}}},[e._v("清空")]),a("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:e.add}},[e._v("添 加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.list,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.page-1)*e.limit+t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100px"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"100px"}}),a("el-table-column",{attrs:{prop:"takeName",label:"提货点名称"}}),a("el-table-column",{attrs:{prop:"param.provinceName",label:"省",width:"70px"}}),a("el-table-column",{attrs:{prop:"param.cityName",label:"城市",width:"70px"}}),a("el-table-column",{attrs:{prop:"param.districtName",label:"区/县",width:"70px"}}),a("el-table-column",{attrs:{prop:"createTime",label:"申请时间",width:"155px"}}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini",disabled:!1===e.$hasBP("btn.all")},on:{click:function(a){return e.check(t.row.id,1)}}},[e._v("审核通过")]),a("el-button",{attrs:{type:"text",size:"mini",disabled:!1===e.$hasBP("btn.all")},on:{click:function(a){return e.check(t.row.id,0)}}},[e._v("审核不通过")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.edit(t.row.id)}}},[e._v("修改")])]}}])})],1),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.page,total:e.total,"page-size":e.limit,"page-sizes":[5,10,20,30,40,50,100],layout:"sizes, prev, pager, next, jumper, ->, total, slot"},on:{"current-change":e.fetchData,"size-change":e.changeSize}}),a("el-dialog",{attrs:{title:"添加/修改",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"flashPromotionForm",staticStyle:{"padding-right":"40px"},attrs:{"label-width":"150px",size:"small"}},[a("el-form-item",{attrs:{label:"团长名称"}},[a("el-input",{model:{value:e.leader.name,callback:function(t){e.$set(e.leader,"name",t)},expression:"leader.name"}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{model:{value:e.leader.phone,callback:function(t){e.$set(e.leader,"phone",t)},expression:"leader.phone"}})],1),a("el-form-item",{attrs:{label:"身份证"}},[a("el-input",{model:{value:e.leader.idNo,callback:function(t){e.$set(e.leader,"idNo",t)},expression:"leader.idNo"}})],1),a("el-form-item",{attrs:{label:"提货点名称"}},[a("el-input",{model:{value:e.leader.takeName,callback:function(t){e.$set(e.leader,"takeName",t)},expression:"leader.takeName"}})],1),a("el-form-item",{attrs:{label:"选择地址"}},[a("el-select",{attrs:{placeholder:"请选择省"},on:{change:e.provinceChanged},model:{value:e.leader.province,callback:function(t){e.$set(e.leader,"province",t)},expression:"leader.province"}},e._l(e.provinceList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请选择市"},on:{change:e.cityChanged},model:{value:e.leader.city,callback:function(t){e.$set(e.leader,"city",t)},expression:"leader.city"}},e._l(e.cityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请选择区"},model:{value:e.leader.district,callback:function(t){e.$set(e.leader,"district",t)},expression:"leader.district"}},e._l(e.districtList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{model:{value:e.leader.detailAddress,callback:function(t){e.$set(e.leader,"detailAddress",t)},expression:"leader.detailAddress"}})],1),a("el-form-item",{attrs:{label:"经度"}},[a("el-input",{model:{value:e.leader.longitude,callback:function(t){e.$set(e.leader,"longitude",t)},expression:"leader.longitude"}})],1),a("el-form-item",{attrs:{label:"纬度"}},[a("el-input",{model:{value:e.leader.latitude,callback:function(t){e.$set(e.leader,"latitude",t)},expression:"leader.latitude"}})],1),a("el-form-item",{attrs:{label:"门店照片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:e.BASE_API+"/admin/sys/file/fileUpload"}},[a("img",{attrs:{src:e.leader.storePath,width:"150px"}})])],1),a("el-form-item",{attrs:{label:"营业时间"}},[a("el-input",{model:{value:e.leader.workTime,callback:function(t){e.$set(e.leader,"workTime",t)},expression:"leader.workTime"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.saveOrUpdate()}}},[e._v("确 定")])],1)],1)],1)},n=[],o=a("ade3"),r=a("4790"),c=a("77ce"),s={id:"",userId:"1",regionId:"",name:"",phone:"",idNo:"",idNoUrl1:"",idNoUrl2:"",takeName:"",takeType:"1",province:"",city:"",district:"",detailAddress:"",longitude:"",latitude:"",haveStore:"1",storePath:"https://guli-file-190513.oss-cn-beijing.aliyuncs.com/cover/default.gif",workTime:"",workStatus:"1",checkStatus:"0"},d={data:function(){return{BASE_API:"/dev-api",listLoading:!0,list:null,total:0,page:1,limit:10,searchObj:{},provinceList:[],cityList:[],districtList:[],dialogVisible:!1,leader:s,saveBtnDisabled:!1}},created:function(){console.log("list created......"),this.fetchData(),this.initProvince()},mounted:function(){console.log("list mounted......")},methods:(i={changeSize:function(e){console.log(e),this.limit=e,this.fetchData(1)},fetchData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log("翻页。。。"+t),this.page=t,r["a"].getPageCheckList(this.page,this.limit,this.searchObj).then((function(t){e.list=t.data.records,e.total=t.data.total,e.listLoading=!1}))},check:function(e,t){var a=this;r["a"].check(e,t).then((function(e){a.$message({type:"success",message:"操作成功!"}),a.fetchData()}))},resetData:function(){console.log("重置查询表单"),this.searchObj={},this.fetchData()},add:function(){this.dialogVisible=!0,this.leader=Object.assign({},s)},edit:function(e){this.dialogVisible=!0,this.fetchDataById(e)},fetchDataById:function(e){var t=this;r["a"].getById(e).then((function(e){t.leader=e.data}))},saveOrUpdate:function(){this.saveBtnDisabled=!0,this.leader.id?this.updateData():this.saveData()},saveData:function(){var e=this;r["a"].save(this.leader).then((function(t){t.code&&(e.$message({type:"success",message:t.message}),e.dialogVisible=!1,e.fetchData(e.page))}))},updateData:function(){var e=this;r["a"].updateById(this.leader).then((function(t){t.code&&(e.$message({type:"success",message:t.message}),e.dialogVisible=!1,e.fetchData(e.page))}))}},Object(o["a"])(i,"fetchDataById",(function(e){var t=this;r["a"].getById(e).then((function(e){t.leader=e.data}))})),Object(o["a"])(i,"initProvince",(function(){var e=this;c["a"].findByParentId(86).then((function(t){e.provinceList=t.data}))})),Object(o["a"])(i,"provinceChanged",(function(e){var t=this;c["a"].findByParentId(e).then((function(e){t.cityList=e.data}))})),Object(o["a"])(i,"cityChanged",(function(e){var t=this;c["a"].findByParentId(e).then((function(e){t.districtList=e.data}))})),Object(o["a"])(i,"handleSuccess",(function(e){this.leader.storePath=e.data})),Object(o["a"])(i,"beforeUpload",(function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传封面图片只能是 JPG 格式!"),a||this.$message.error("上传封面图片大小不能超过 2MB!"),t&&a})),i)},u=d,p=a("2877"),h=Object(p["a"])(u,l,n,!1,null,null,null);t["default"]=h.exports}}]);