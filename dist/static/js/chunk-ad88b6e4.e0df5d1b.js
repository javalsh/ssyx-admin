(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad88b6e4"],{"4c3d":function(e,t,o){"use strict";o("99af");var n=o("b775"),a="/admin/activity/couponInfo";t["a"]={getPageList:function(e,t){return Object(n["a"])({url:"".concat(a,"/").concat(e,"/").concat(t),method:"get"})},getById:function(e){return Object(n["a"])({url:"".concat(a,"/get/").concat(e),method:"get"})},save:function(e){return Object(n["a"])({url:"".concat(a,"/save"),method:"post",data:e})},updateById:function(e){return Object(n["a"])({url:"".concat(a,"/update"),method:"put",data:e})},removeById:function(e){return Object(n["a"])({url:"".concat(a,"/remove/").concat(e),method:"delete"})},removeRows:function(e){return Object(n["a"])({url:"".concat(a,"/batchRemove"),method:"delete",data:e})},findCouponRuleList:function(e){return Object(n["a"])({url:"".concat(a,"/findCouponRuleList/").concat(e),method:"get"})},saveCouponRule:function(e){return Object(n["a"])({url:"".concat(a,"/saveCouponRule"),method:"post",data:e})},findCouponByKeyword:function(e){return Object(n["a"])({url:"".concat(a,"/findCouponByKeyword/").concat(e),method:"get"})}}},8047:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-form",{attrs:{"label-width":"120px"}},[o("el-form-item",{attrs:{label:"优惠券名称"}},[o("el-input",{model:{value:e.couponInfo.couponName,callback:function(t){e.$set(e.couponInfo,"couponName",t)},expression:"couponInfo.couponName"}})],1),o("el-form-item",{attrs:{label:"优惠券类型"}},[o("el-radio-group",{model:{value:e.couponInfo.couponType,callback:function(t){e.$set(e.couponInfo,"couponType",t)},expression:"couponInfo.couponType"}},[o("el-radio",{attrs:{label:"CASH"}},[e._v("现金券")]),o("el-radio",{attrs:{label:"FULL_REDUCTION"}},[e._v("满减券")])],1)],1),o("el-form-item",{attrs:{label:"发行数量"}},[o("el-input",{model:{value:e.couponInfo.publishCount,callback:function(t){e.$set(e.couponInfo,"publishCount",t)},expression:"couponInfo.publishCount"}})],1),o("el-form-item",{attrs:{label:"领取时间"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择开始日期","value-format":"yyyy-MM-dd"},model:{value:e.couponInfo.startTime,callback:function(t){e.$set(e.couponInfo,"startTime",t)},expression:"couponInfo.startTime"}}),e._v(" 至 "),o("el-date-picker",{attrs:{type:"date",placeholder:"选择开始日期","value-format":"yyyy-MM-dd"},model:{value:e.couponInfo.endTime,callback:function(t){e.$set(e.couponInfo,"endTime",t)},expression:"couponInfo.endTime"}})],1),o("el-form-item",{attrs:{label:"过期时间"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.couponInfo.expireTime,callback:function(t){e.$set(e.couponInfo,"expireTime",t)},expression:"couponInfo.expireTime"}})],1),o("el-form-item",[o("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")]),o("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)},a=[],c=o("5530"),u=o("4c3d"),i={id:"",couponType:"CASH",couponName:"",amount:"0",conditionAmount:"0",startTime:"",endTime:"",rangeType:"ALL",rangeDesc:"",publishCount:"",perLimit:"1",useCount:"0",receiveCount:"",expireTime:"",publishStatus:""},s={data:function(){return{couponInfo:i,saveBtnDisabled:!1,keyword:"",skuInfoList:[]}},watch:{$route:function(e,t){console.log("路由变化......"),console.log(e),console.log(t),this.init()}},created:function(){console.log("form created ......"),this.init()},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.fetchDataById(e)}else this.couponInfo=Object(c["a"])({},i)},saveOrUpdate:function(){this.saveBtnDisabled=!0,this.couponInfo.id?this.updateData():this.saveData()},saveData:function(){var e=this;u["a"].save(this.couponInfo).then((function(t){t.code&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/activity/couponInfo/list"}))}))},updateData:function(){var e=this;u["a"].updateById(this.couponInfo).then((function(t){t.code&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/activity/couponInfo/list"}))}))},back:function(){this.$router.push({path:"/activity/couponInfo/list"})},fetchDataById:function(e){var t=this;u["a"].getById(e).then((function(e){t.couponInfo=e.data}))}}},r=s,l=o("2877"),p=Object(l["a"])(r,n,a,!1,null,null,null);t["default"]=p.exports}}]);