(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68e9f307"],{"75a7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"categoryForm",attrs:{model:t.category,rules:t.validateRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{model:{value:t.category.sort,callback:function(e){t.$set(t.category,"sort",e)},expression:"category.sort"}})],1),a("el-form-item",[a("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:t.saveOrUpdate}},[t._v("保存")]),a("el-button",{on:{click:t.back}},[t._v("返回")])],1)],1)],1)},r=[],c=a("5530"),n=(a("ac1f"),a("00b4"),a("aab4")),s=function(t,e,a){var o=/^[0-9]*$/;o.test(e)?a():a(new Error("只能为数字"))},i={id:"",name:"",status:"",sort:""},u={data:function(){return{category:i,saveBtnDisabled:!1,validateRules:{name:[{required:!0,trigger:"blur",message:"必须输入"}],sort:[{required:!0,decimal:2,trigger:"blur",message:"必须输入"},{validator:s,trigger:"blur"}]}}},watch:{$route:function(t,e){console.log("路由变化......"),console.log(t),console.log(e),this.init()}},created:function(){console.log("form created ......"),this.init()},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var t=this.$route.params.id;this.fetchDataById(t)}else this.category=Object(c["a"])({},i)},saveOrUpdate:function(){var t=this;this.$refs.categoryForm.validate((function(e){e&&(t.saveBtnDisabled=!0,t.category.id?t.updateData():t.saveData())}))},saveData:function(){var t=this;n["a"].save(this.category).then((function(e){e.code&&(t.$message({type:"success",message:e.message}),t.$router.push({path:"/product/category/list"}))}))},updateData:function(){var t=this;n["a"].updateById(this.category).then((function(e){e.code&&(t.$message({type:"success",message:e.message}),t.$router.push({path:"/product/category/list"}))}))},back:function(){this.$router.push({path:"/product/category/list"})},fetchDataById:function(t){var e=this;n["a"].getById(t).then((function(t){e.category=t.data}))}}},l=u,d=a("2877"),m=Object(d["a"])(l,o,r,!1,null,null,null);e["default"]=m.exports},aab4:function(t,e,a){"use strict";a("99af");var o=a("b775"),r="/admin/product/category";e["a"]={getPageList:function(t,e,a){return Object(o["a"])({url:"".concat(r,"/").concat(t,"/").concat(e),method:"get",params:a})},getById:function(t){return Object(o["a"])({url:"".concat(r,"/get/").concat(t),method:"get"})},save:function(t){return Object(o["a"])({url:"".concat(r,"/save"),method:"post",data:t})},updateById:function(t){return Object(o["a"])({url:"".concat(r,"/update"),method:"put",data:t})},removeById:function(t){return Object(o["a"])({url:"".concat(r,"/remove/").concat(t),method:"delete"})},removeRows:function(t){return Object(o["a"])({url:"".concat(r,"/batchRemove"),method:"delete",data:t})},findAllList:function(){return Object(o["a"])({url:"".concat(r,"/findAllList"),method:"get"})}}}}]);